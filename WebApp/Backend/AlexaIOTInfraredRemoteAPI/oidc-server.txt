2023-10-04 13:42:52.402 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 13:42:52.715 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 13:42:52.716 +03:00 [INF] Quartz Scheduler created
2023-10-04 13:42:52.717 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 13:42:52.717 +03:00 [INF] RAMJobStore initialized.
2023-10-04 13:42:52.718 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 13:42:52.718 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 13:42:52.719 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 13:42:52.728 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 13:42:52.730 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 13:42:56.192 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 13:42:56.259 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 13:42:56.558 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 13:42:56.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 13:42:56.643 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 13:42:56.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 13:42:56.662 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 13:42:57.805 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 13:42:57.806 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 13:42:57.807 +03:00 [INF] Hosting environment: Development
2023-10-04 13:42:57.807 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 13:42:57.811 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 13:42:58.835 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 13:42:59.880 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 13:42:59.890 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 13:43:13.413 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 13:43:14.484 +03:00 [INF] Executed ViewResult - view Index executed in 14582.6379ms.
2023-10-04 13:43:14.488 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 14595.3675ms
2023-10-04 13:43:14.489 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 13:43:14.497 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 15664.6093ms
2023-10-04 13:43:14.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 13:43:14.948 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 13:43:14.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 13:43:14.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 13:43:14.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 13:43:14.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 13:43:14.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 24.7533ms
2023-10-04 13:43:14.975 +03:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\js\site.js'
2023-10-04 13:43:14.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 text/javascript 30.1795ms
2023-10-04 13:43:14.989 +03:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\css\site.css'
2023-10-04 13:43:14.989 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2023-10-04 13:43:14.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 43.0137ms
2023-10-04 13:43:14.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 200 1417 text/css 43.0750ms
2023-10-04 13:43:15.015 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2023-10-04 13:43:15.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 text/javascript 68.5919ms
2023-10-04 13:43:15.023 +03:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\jquery\dist\jquery.min.js'
2023-10-04 13:43:15.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 200 89478 text/javascript 76.8827ms
2023-10-04 13:43:15.221 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/favicon.ico - -
2023-10-04 13:43:15.227 +03:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\favicon.ico'
2023-10-04 13:43:15.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/favicon.ico - - - 200 5430 image/x-icon 6.7948ms
2023-10-04 13:43:20.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 13:43:20.354 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 13:43:20.355 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 13:43:20.357 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 13:43:20.364 +03:00 [INF] Executed ViewResult - view Index executed in 7.3061ms.
2023-10-04 13:43:20.365 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 8.5523ms
2023-10-04 13:43:20.365 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 13:43:20.366 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 17.2684ms
2023-10-04 13:43:20.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Home/Privacy - -
2023-10-04 13:43:20.814 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Privacy (OpeniddictServer)'
2023-10-04 13:43:20.816 +03:00 [INF] Route matched with {action = "Privacy", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Privacy() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 13:43:21.055 +03:00 [INF] Executing ViewResult, running view Privacy.
2023-10-04 13:43:21.069 +03:00 [INF] Executed ViewResult - view Privacy executed in 251.4483ms.
2023-10-04 13:43:21.069 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Privacy (OpeniddictServer) in 252.1559ms
2023-10-04 13:43:21.070 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Privacy (OpeniddictServer)'
2023-10-04 13:43:21.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Home/Privacy - - - 200 - text/html;+charset=utf-8 265.9486ms
2023-10-04 13:43:21.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 13:43:21.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 0.8981ms
2023-10-04 13:43:22.076 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Home/Privacy - -
2023-10-04 13:43:22.080 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Privacy (OpeniddictServer)'
2023-10-04 13:43:22.080 +03:00 [INF] Route matched with {action = "Privacy", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Privacy() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 13:43:22.081 +03:00 [INF] Executing ViewResult, running view Privacy.
2023-10-04 13:43:22.082 +03:00 [INF] Executed ViewResult - view Privacy executed in 1.25ms.
2023-10-04 13:43:22.083 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Privacy (OpeniddictServer) in 1.6157ms
2023-10-04 13:43:22.083 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Privacy (OpeniddictServer)'
2023-10-04 13:43:22.084 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Home/Privacy - - - 200 - text/html;+charset=utf-8 7.5807ms
2023-10-04 13:43:22.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 13:43:22.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 0.9663ms
2023-10-04 13:43:22.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 13:43:22.547 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 13:43:22.548 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 13:43:22.548 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 13:43:22.550 +03:00 [INF] Executed ViewResult - view Index executed in 1.2873ms.
2023-10-04 13:43:22.550 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 1.7898ms
2023-10-04 13:43:22.551 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 13:43:22.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4.8645ms
2023-10-04 13:43:22.948 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 13:43:22.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.3236ms
2023-10-04 16:01:54.881 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:01:55.050 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:01:55.051 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:01:55.051 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:01:55.052 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:01:55.052 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:01:55.053 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:01:55.053 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:01:55.071 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:01:55.073 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:01:57.955 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:01:58.026 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 16:01:58.305 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:01:58.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:01:58.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:01:58.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:01:58.426 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:01:59.084 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:01:59.086 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:01:59.090 +03:00 [INF] Hosting environment: Development
2023-10-04 16:01:59.090 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:01:59.095 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:01:59.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:01:59.993 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:02:00.003 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:02:02.670 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:02:03.869 +03:00 [INF] Executed ViewResult - view Index executed in 3848.3341ms.
2023-10-04 16:02:03.874 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3864.7276ms
2023-10-04 16:02:03.875 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:02:03.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4181.5169ms
2023-10-04 16:02:04.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 16:02:04.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 16:02:04.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 16:02:04.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 16:02:04.198 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 16:02:04.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:02:04.244 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:02:04.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 60.7695ms
2023-10-04 16:02:04.271 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2023-10-04 16:02:04.271 +03:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\js\site.js'
2023-10-04 16:02:04.271 +03:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\css\site.css'
2023-10-04 16:02:04.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 155764 text/css 74.9887ms
2023-10-04 16:02:04.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 text/javascript 75.2737ms
2023-10-04 16:02:04.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 200 1417 text/css 77.2451ms
2023-10-04 16:02:04.299 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2023-10-04 16:02:04.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78641 text/javascript 103.7889ms
2023-10-04 16:02:04.318 +03:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\jquery\dist\jquery.min.js'
2023-10-04 16:02:04.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 200 89478 text/javascript 122.3250ms
2023-10-04 16:02:04.335 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.2630ms
2023-10-04 16:02:58.363 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 16:02:58.367 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:02:58.372 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 16:02:58.381 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 16:02:58.383 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 16:02:58.402 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataEventRecords"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 16:02:58.415 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1608 application/json;charset=UTF-8 52.4045ms
2023-10-04 16:02:58.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=b06eb3639da80dcf84fe190634daef4ff9zXxOvWA&state=f10265c5c2c405f3855502895a05fcc3ecKwSmbYt&code_challenge=NgmwMqhiHk1FFj5pSST_iA8pnLwU_RfpORBP6mx4RNc&code_challenge_method=S256 - -
2023-10-04 16:02:58.442 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:02:58.452 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "b06eb3639da80dcf84fe190634daef4ff9zXxOvWA",
  "state": "f10265c5c2c405f3855502895a05fcc3ecKwSmbYt",
  "code_challenge": "NgmwMqhiHk1FFj5pSST_iA8pnLwU_RfpORBP6mx4RNc",
  "code_challenge_method": "S256"
}.
2023-10-04 16:02:58.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:02:58.483 +03:00 [INF] The authorization request was rejected because the client application was not found: 'aiirui'.
2023-10-04 16:02:58.499 +03:00 [INF] The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "The specified 'client_id' is invalid.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2052"
}.
2023-10-04 16:02:58.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=b06eb3639da80dcf84fe190634daef4ff9zXxOvWA&state=f10265c5c2c405f3855502895a05fcc3ecKwSmbYt&code_challenge=NgmwMqhiHk1FFj5pSST_iA8pnLwU_RfpORBP6mx4RNc&code_challenge_method=S256 - - - 400 142 text/plain;charset=UTF-8 78.4701ms
2023-10-04 16:04:51.791 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:04:51.918 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:04:51.918 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:04:51.919 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:04:51.919 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:04:51.920 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:04:51.920 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:04:51.921 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:04:51.929 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:04:51.930 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:04:52.909 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:04:52.955 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 16:04:53.206 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:04:53.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:04:53.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:04:53.423 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:04:53.444 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:04:53.958 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:04:53.959 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:04:53.960 +03:00 [INF] Hosting environment: Development
2023-10-04 16:04:53.960 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:04:53.964 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:04:54.834 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:04:55.011 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:04:55.021 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:04:57.630 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:04:58.689 +03:00 [INF] Executed ViewResult - view Index executed in 3658.4595ms.
2023-10-04 16:04:58.695 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3672.6912ms
2023-10-04 16:04:58.696 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:04:58.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 3894.2153ms
2023-10-04 16:04:59.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:04:59.061 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:04:59.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 20.7518ms
2023-10-04 16:04:59.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.5108ms
2023-10-04 16:05:10.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 16:05:10.890 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:05:10.895 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 16:05:10.901 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 16:05:10.902 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 16:05:10.925 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataEventRecords"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 16:05:10.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1608 application/json;charset=UTF-8 44.1498ms
2023-10-04 16:05:10.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=6f79dbb983d6390176e963f489ea661531Dlp2TiN&state=c473a0043fa4831d646914c34cf68d1281ZF8anBW&code_challenge=EKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q&code_challenge_method=S256 - -
2023-10-04 16:05:10.957 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:05:10.967 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "6f79dbb983d6390176e963f489ea661531Dlp2TiN",
  "state": "c473a0043fa4831d646914c34cf68d1281ZF8anBW",
  "code_challenge": "EKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q",
  "code_challenge_method": "S256"
}.
2023-10-04 16:05:10.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:05:11.025 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:05:11.033 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:05:11.039 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:05:11.057 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 16:05:11.062 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 16:05:11.063 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 22.9833ms
2023-10-04 16:05:11.064 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:05:11.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=6f79dbb983d6390176e963f489ea661531Dlp2TiN&state=c473a0043fa4831d646914c34cf68d1281ZF8anBW&code_challenge=EKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q&code_challenge_method=S256 - - - 302 0 - 119.7726ms
2023-10-04 16:05:11.073 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D6f79dbb983d6390176e963f489ea661531Dlp2TiN%26state%3Dc473a0043fa4831d646914c34cf68d1281ZF8anBW%26code_challenge%3DEKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q%26code_challenge_method%3DS256 - -
2023-10-04 16:05:11.106 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:05:11.132 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:05:11.167 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:05:11.175 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:05:11.177 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:05:11.180 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:05:11.180 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:05:11.264 +03:00 [INF] Executed page /Account/Login in 130.9347ms
2023-10-04 16:05:11.264 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:05:11.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D6f79dbb983d6390176e963f489ea661531Dlp2TiN%26state%3Dc473a0043fa4831d646914c34cf68d1281ZF8anBW%26code_challenge%3DEKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 198.2499ms
2023-10-04 16:05:11.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/css/bootstrap.css - -
2023-10-04 16:05:11.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/jquery/dist/jquery.js - -
2023-10-04 16:05:11.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/css/site.css - -
2023-10-04 16:05:11.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js - -
2023-10-04 16:05:11.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2023-10-04 16:05:11.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2023-10-04 16:05:11.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 16:05:11.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:05:11.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:05:11.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 7.2593ms
2023-10-04 16:05:11.746 +03:00 [INF] Sending file. Request path: '/Identity/css/site.css'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\css\site.css'
2023-10-04 16:05:11.749 +03:00 [INF] Sending file. Request path: '/Identity/js/site.js'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\js\site.js'
2023-10-04 16:05:11.750 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/css/site.css - - - 200 1591 text/css 55.4431ms
2023-10-04 16:05:11.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 text/javascript 55.1950ms
2023-10-04 16:05:11.778 +03:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js'
2023-10-04 16:05:11.778 +03:00 [INF] Sending file. Request path: '/Identity/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\jquery-validation\dist\jquery.validate.js'
2023-10-04 16:05:11.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 200 19385 text/javascript 85.1564ms
2023-10-04 16:05:11.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 200 48676 text/javascript 88.8285ms
2023-10-04 16:05:11.791 +03:00 [INF] Sending file. Request path: '/Identity/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\bootstrap\dist\css\bootstrap.css'
2023-10-04 16:05:11.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/css/bootstrap.css - - - 200 204136 text/css 97.2507ms
2023-10-04 16:05:11.806 +03:00 [INF] Sending file. Request path: '/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\bootstrap\dist\js\bootstrap.bundle.js'
2023-10-04 16:05:11.807 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js - - - 200 208492 text/javascript 112.1909ms
2023-10-04 16:05:11.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 95.8870ms
2023-10-04 16:05:11.812 +03:00 [INF] Sending file. Request path: '/Identity/lib/jquery/dist/jquery.js'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\jquery\dist\jquery.js'
2023-10-04 16:05:11.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/jquery/dist/jquery.js - - - 200 288580 text/javascript 117.7507ms
2023-10-04 16:05:11.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/css/bootstrap.css.map - -
2023-10-04 16:05:11.865 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js.map - -
2023-10-04 16:05:11.877 +03:00 [INF] Sending file. Request path: '/Identity/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\bootstrap\dist\css\bootstrap.css.map'
2023-10-04 16:05:11.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/css/bootstrap.css.map - - - 200 536547 text/plain 35.8535ms
2023-10-04 16:05:11.886 +03:00 [INF] Sending file. Request path: '/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js.map'. Physical path: 'C:\Users\lupus\.nuget\packages\microsoft.aspnetcore.identity.ui\7.0.11\staticwebassets\V5\lib\bootstrap\dist\js\bootstrap.bundle.js.map'
2023-10-04 16:05:11.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js.map - - - 200 425643 text/plain 21.6211ms
2023-10-04 16:05:17.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D6f79dbb983d6390176e963f489ea661531Dlp2TiN%26state%3Dc473a0043fa4831d646914c34cf68d1281ZF8anBW%26code_challenge%3DEKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q%26code_challenge_method%3DS256 - -
2023-10-04 16:05:17.641 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:05:17.654 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:05:17.657 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:05:17.659 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:05:17.659 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:05:17.660 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:05:17.683 +03:00 [INF] Executed page /Account/Register in 27.5951ms
2023-10-04 16:05:17.683 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:05:17.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D6f79dbb983d6390176e963f489ea661531Dlp2TiN%26state%3Dc473a0043fa4831d646914c34cf68d1281ZF8anBW%26code_challenge%3DEKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 55.5279ms
2023-10-04 16:05:18.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:05:18.088 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:05:18.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.9933ms
2023-10-04 16:05:18.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.2424ms
2023-10-04 16:05:29.696 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D6f79dbb983d6390176e963f489ea661531Dlp2TiN%26state%3Dc473a0043fa4831d646914c34cf68d1281ZF8anBW%26code_challenge%3DEKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q%26code_challenge_method%3DS256 application/x-www-form-urlencoded 279
2023-10-04 16:05:29.700 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:05:29.701 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:05:29.702 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:05:29.703 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:05:29.725 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnPostAsync - ModelState is "Valid"
2023-10-04 16:05:29.902 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:05:29.946 +03:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:05:29.954 +03:00 [INF] Executed page /Account/Register in 250.9792ms
2023-10-04 16:05:29.955 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:05:29.958 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D6f79dbb983d6390176e963f489ea661531Dlp2TiN%26state%3Dc473a0043fa4831d646914c34cf68d1281ZF8anBW%26code_challenge%3DEKNIB7_0s5EBR42jip36ax1cPxvetCY6rTRPv_K4A2Q%26code_challenge_method%3DS256 application/x-www-form-urlencoded 279 - 200 - text/html;+charset=utf-8 262.1279ms
2023-10-04 16:05:30.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:05:30.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:05:30.380 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 0.9810ms
2023-10-04 16:05:30.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.8430ms
2023-10-04 16:05:43.311 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/Register application/x-www-form-urlencoded 280
2023-10-04 16:05:43.312 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:05:43.312 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:05:43.313 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:05:43.315 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:05:43.332 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnPostAsync - ModelState is "Valid"
2023-10-04 16:05:43.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:05:43.410 +03:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:05:43.415 +03:00 [INF] Executed page /Account/Register in 100.0931ms
2023-10-04 16:05:43.416 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:05:43.419 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/Register application/x-www-form-urlencoded 280 - 200 - text/html;+charset=utf-8 108.3913ms
2023-10-04 16:05:43.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:05:43.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:05:43.847 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.4864ms
2023-10-04 16:05:43.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3358ms
2023-10-04 16:05:52.001 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] NOT IN (N'inactive', N'valid') OR ([o].[Status] IS NULL) OR (([o0].[Id] IS NOT NULL) AND ([o0].[Status] <> N'valid' OR ([o0].[Status] IS NULL))) OR [o].[ExpirationDate] < GETUTCDATE())
ORDER BY [o].[Id]
2023-10-04 16:05:52.062 +03:00 [WRN] Savepoints are disabled because Multiple Active Result Sets (MARS) is enabled. If 'SaveChanges' fails, then the transaction cannot be automatically rolled back to a known clean state. Instead, the transaction should be rolled back by the application before retrying 'SaveChanges'. See https://go.microsoft.com/fwlink/?linkid=2149338 for more information and examples. To identify the code which triggers this warning, call 'ConfigureWarnings(w => w.Throw(SqlServerEventId.SavepointsDisabledBecauseOfMARS))'.
2023-10-04 16:05:52.100 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (Size = 450), @p5='?' (Size = 50), @p6='?' (Size = 450), @p7='?' (Size = 50), @p8='?' (Size = 450), @p9='?' (Size = 50), @p10='?' (Size = 450), @p11='?' (Size = 50), @p12='?' (Size = 450), @p13='?' (Size = 50), @p14='?' (Size = 450), @p15='?' (Size = 50), @p16='?' (Size = 450), @p17='?' (Size = 50), @p18='?' (Size = 450), @p19='?' (Size = 50), @p20='?' (Size = 450), @p21='?' (Size = 50), @p22='?' (Size = 450), @p23='?' (Size = 50), @p24='?' (Size = 450), @p25='?' (Size = 50), @p26='?' (Size = 450), @p27='?' (Size = 50), @p28='?' (Size = 450), @p29='?' (Size = 50), @p30='?' (Size = 450), @p31='?' (Size = 50), @p32='?' (Size = 450), @p33='?' (Size = 50), @p34='?' (Size = 450), @p35='?' (Size = 50), @p36='?' (Size = 450), @p37='?' (Size = 50), @p38='?' (Size = 450), @p39='?' (Size = 50), @p40='?' (Size = 450), @p41='?' (Size = 50), @p42='?' (Size = 450), @p43='?' (Size = 50), @p44='?' (Size = 450), @p45='?' (Size = 50), @p46='?' (Size = 450), @p47='?' (Size = 50), @p48='?' (Size = 450), @p49='?' (Size = 50), @p50='?' (Size = 450), @p51='?' (Size = 50), @p52='?' (Size = 450), @p53='?' (Size = 50), @p54='?' (Size = 450), @p55='?' (Size = 50), @p56='?' (Size = 450), @p57='?' (Size = 50), @p58='?' (Size = 450), @p59='?' (Size = 50), @p60='?' (Size = 450), @p61='?' (Size = 50), @p62='?' (Size = 450), @p63='?' (Size = 50), @p64='?' (Size = 450), @p65='?' (Size = 50), @p66='?' (Size = 450), @p67='?' (Size = 50), @p68='?' (Size = 450), @p69='?' (Size = 50), @p70='?' (Size = 450), @p71='?' (Size = 50), @p72='?' (Size = 450), @p73='?' (Size = 50), @p74='?' (Size = 450), @p75='?' (Size = 50), @p76='?' (Size = 450), @p77='?' (Size = 50), @p78='?' (Size = 450), @p79='?' (Size = 50), @p80='?' (Size = 450), @p81='?' (Size = 50), @p82='?' (Size = 450), @p83='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyToken] = @p1;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p2 AND [ConcurrencyToken] = @p3;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p4 AND [ConcurrencyToken] = @p5;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p6 AND [ConcurrencyToken] = @p7;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p8 AND [ConcurrencyToken] = @p9;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p10 AND [ConcurrencyToken] = @p11;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyToken] = @p15;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyToken] = @p17;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyToken] = @p19;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyToken] = @p21;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyToken] = @p23;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyToken] = @p25;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p26 AND [ConcurrencyToken] = @p27;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyToken] = @p29;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p30 AND [ConcurrencyToken] = @p31;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p32 AND [ConcurrencyToken] = @p33;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p34 AND [ConcurrencyToken] = @p35;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p36 AND [ConcurrencyToken] = @p37;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p38 AND [ConcurrencyToken] = @p39;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p40 AND [ConcurrencyToken] = @p41;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p42 AND [ConcurrencyToken] = @p43;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p44 AND [ConcurrencyToken] = @p45;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p46 AND [ConcurrencyToken] = @p47;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p48 AND [ConcurrencyToken] = @p49;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p50 AND [ConcurrencyToken] = @p51;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p52 AND [ConcurrencyToken] = @p53;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p54 AND [ConcurrencyToken] = @p55;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p56 AND [ConcurrencyToken] = @p57;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p58 AND [ConcurrencyToken] = @p59;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p60 AND [ConcurrencyToken] = @p61;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p62 AND [ConcurrencyToken] = @p63;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p64 AND [ConcurrencyToken] = @p65;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p66 AND [ConcurrencyToken] = @p67;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p68 AND [ConcurrencyToken] = @p69;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p70 AND [ConcurrencyToken] = @p71;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p72 AND [ConcurrencyToken] = @p73;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p74 AND [ConcurrencyToken] = @p75;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p76 AND [ConcurrencyToken] = @p77;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p78 AND [ConcurrencyToken] = @p79;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p80 AND [ConcurrencyToken] = @p81;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p82 AND [ConcurrencyToken] = @p83;
2023-10-04 16:05:52.127 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (Size = 450), @p5='?' (Size = 50), @p6='?' (Size = 450), @p7='?' (Size = 50), @p8='?' (Size = 450), @p9='?' (Size = 50), @p10='?' (Size = 450), @p11='?' (Size = 50), @p12='?' (Size = 450), @p13='?' (Size = 50), @p14='?' (Size = 450), @p15='?' (Size = 50), @p16='?' (Size = 450), @p17='?' (Size = 50), @p18='?' (Size = 450), @p19='?' (Size = 50), @p20='?' (Size = 450), @p21='?' (Size = 50), @p22='?' (Size = 450), @p23='?' (Size = 50), @p24='?' (Size = 450), @p25='?' (Size = 50), @p26='?' (Size = 450), @p27='?' (Size = 50), @p28='?' (Size = 450), @p29='?' (Size = 50), @p30='?' (Size = 450), @p31='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyToken] = @p1;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p2 AND [ConcurrencyToken] = @p3;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p4 AND [ConcurrencyToken] = @p5;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p6 AND [ConcurrencyToken] = @p7;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p8 AND [ConcurrencyToken] = @p9;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p10 AND [ConcurrencyToken] = @p11;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyToken] = @p15;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyToken] = @p17;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyToken] = @p19;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyToken] = @p21;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyToken] = @p23;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p24 AND [ConcurrencyToken] = @p25;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p26 AND [ConcurrencyToken] = @p27;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p28 AND [ConcurrencyToken] = @p29;
DELETE FROM [OpenIddictTokens]
OUTPUT 1
WHERE [Id] = @p30 AND [ConcurrencyToken] = @p31;
2023-10-04 16:05:52.143 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] NOT IN (N'inactive', N'valid') OR ([o].[Status] IS NULL) OR (([o0].[Id] IS NOT NULL) AND ([o0].[Status] <> N'valid' OR ([o0].[Status] IS NULL))) OR [o].[ExpirationDate] < GETUTCDATE())
ORDER BY [o].[Id]
2023-10-04 16:05:52.218 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] <> N'valid' OR ([o].[Status] IS NULL) OR ([o].[Type] = N'ad-hoc' AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id]
2023-10-04 16:06:46.252 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:06:46.375 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:06:46.376 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:06:46.377 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:06:46.377 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:06:46.378 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:06:46.378 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:06:46.378 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:06:46.387 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:06:46.388 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:06:47.568 +03:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [aiir-openiddict-server];
2023-10-04 16:06:47.652 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [aiir-openiddict-server] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-10-04 16:06:47.727 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:06:47.813 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-10-04 16:06:47.817 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-10-04 16:06:47.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [FidoStoredCredential] (
    [Id] int NOT NULL IDENTITY,
    [UserName] nvarchar(max) NULL,
    [UserId] varbinary(max) NULL,
    [PublicKey] varbinary(max) NULL,
    [UserHandle] varbinary(max) NULL,
    [SignatureCounter] bigint NOT NULL,
    [CredType] nvarchar(max) NULL,
    [RegDate] datetime2 NOT NULL,
    [AaGuid] uniqueidentifier NOT NULL,
    [DescriptorJson] nvarchar(max) NULL,
    CONSTRAINT [PK_FidoStoredCredential] PRIMARY KEY ([Id])
);
2023-10-04 16:06:47.825 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2023-10-04 16:06:47.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2023-10-04 16:06:47.832 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:06:47.835 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:06:47.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:06:47.841 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:06:47.844 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:06:47.847 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id])
);
2023-10-04 16:06:47.851 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id])
);
2023-10-04 16:06:47.853 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-10-04 16:06:47.855 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-10-04 16:06:47.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-10-04 16:06:47.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-10-04 16:06:47.859 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-10-04 16:06:47.860 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-10-04 16:06:47.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-10-04 16:06:47.863 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2023-10-04 16:06:47.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-04 16:06:47.865 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2023-10-04 16:06:47.867 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-04 16:06:47.868 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2023-10-04 16:06:47.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2023-10-04 16:06:48.126 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:06:48.211 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:06:48.342 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:06:48.363 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:06:48.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:06:48.386 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:06:48.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:06:48.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:06:48.443 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 16:06:48.927 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:06:48.929 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:06:48.929 +03:00 [INF] Hosting environment: Development
2023-10-04 16:06:48.929 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:06:48.933 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:06:49.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:06:49.791 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:06:49.806 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:06:52.207 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:06:53.299 +03:00 [INF] Executed ViewResult - view Index executed in 3482.155ms.
2023-10-04 16:06:53.306 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3498.2971ms
2023-10-04 16:06:53.307 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:06:53.344 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 3773.5153ms
2023-10-04 16:06:53.662 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:06:53.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:06:53.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 19.4240ms
2023-10-04 16:06:53.719 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.5948ms
2023-10-04 16:07:04.150 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 16:07:04.153 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:07:04.158 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 16:07:04.165 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 16:07:04.167 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 16:07:04.182 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataEventRecords"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 16:07:04.187 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1608 application/json;charset=UTF-8 37.1122ms
2023-10-04 16:07:04.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn&state=623ad8f89abb25d632e441200e085fd75dq0wf6AB&code_challenge=RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ&code_challenge_method=S256 - -
2023-10-04 16:07:04.204 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:07:04.216 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn",
  "state": "623ad8f89abb25d632e441200e085fd75dq0wf6AB",
  "code_challenge": "RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ",
  "code_challenge_method": "S256"
}.
2023-10-04 16:07:04.265 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:07:04.302 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:07:04.309 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:07:04.314 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:07:04.333 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 16:07:04.338 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 16:07:04.338 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 22.551ms
2023-10-04 16:07:04.339 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:07:04.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn&state=623ad8f89abb25d632e441200e085fd75dq0wf6AB&code_challenge=RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ&code_challenge_method=S256 - - - 302 0 - 143.6253ms
2023-10-04 16:07:04.347 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Dd19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn%26state%3D623ad8f89abb25d632e441200e085fd75dq0wf6AB%26code_challenge%3DRjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ%26code_challenge_method%3DS256 - -
2023-10-04 16:07:04.371 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:07:04.401 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:07:04.435 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:07:04.444 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:07:04.446 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:07:04.449 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:07:04.449 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:07:04.543 +03:00 [INF] Executed page /Account/Login in 140.7632ms
2023-10-04 16:07:04.544 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:07:04.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Dd19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn%26state%3D623ad8f89abb25d632e441200e085fd75dq0wf6AB%26code_challenge%3DRjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 203.6447ms
2023-10-04 16:07:04.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:07:04.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:07:04.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 4.1449ms
2023-10-04 16:07:04.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3933ms
2023-10-04 16:07:08.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Dd19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn%26state%3D623ad8f89abb25d632e441200e085fd75dq0wf6AB%26code_challenge%3DRjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ%26code_challenge_method%3DS256 - -
2023-10-04 16:07:08.745 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:07:08.753 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:07:08.756 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:07:08.758 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:07:08.759 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:07:08.759 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:07:08.785 +03:00 [INF] Executed page /Account/Register in 30.449ms
2023-10-04 16:07:08.785 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:07:08.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Dd19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn%26state%3D623ad8f89abb25d632e441200e085fd75dq0wf6AB%26code_challenge%3DRjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 52.6810ms
2023-10-04 16:07:09.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:07:09.229 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:07:09.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.5150ms
2023-10-04 16:07:09.261 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.8236ms
2023-10-04 16:07:15.750 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Dd19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn%26state%3D623ad8f89abb25d632e441200e085fd75dq0wf6AB%26code_challenge%3DRjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ%26code_challenge_method%3DS256 application/x-www-form-urlencoded 283
2023-10-04 16:07:15.753 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:07:15.753 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:07:15.754 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:07:15.754 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:07:15.777 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnPostAsync - ModelState is "Valid"
2023-10-04 16:07:15.928 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:07:15.986 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-10-04 16:07:15.991 +03:00 [INF] User created a new account with password.
2023-10-04 16:07:16.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 16:07:16.073 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:07:16.082 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 16:07:16.085 +03:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 16:07:16.088 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn&state=623ad8f89abb25d632e441200e085fd75dq0wf6AB&code_challenge=RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ&code_challenge_method=S256.
2023-10-04 16:07:16.090 +03:00 [INF] Executed page /Account/Register in 334.9228ms
2023-10-04 16:07:16.091 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:07:16.091 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/Register?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Dd19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn%26state%3D623ad8f89abb25d632e441200e085fd75dq0wf6AB%26code_challenge%3DRjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ%26code_challenge_method%3DS256 application/x-www-form-urlencoded 283 - 302 0 - 341.6221ms
2023-10-04 16:07:16.097 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn&state=623ad8f89abb25d632e441200e085fd75dq0wf6AB&code_challenge=RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ&code_challenge_method=S256 - -
2023-10-04 16:07:16.100 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:07:16.101 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn",
  "state": "623ad8f89abb25d632e441200e085fd75dq0wf6AB",
  "code_challenge": "RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ",
  "code_challenge_method": "S256"
}.
2023-10-04 16:07:16.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:07:16.112 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:07:16.117 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:07:16.118 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:07:16.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:07:16.187 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 16:07:16.545 +03:00 [INF] Executing ViewResult, running view Authorize.
2023-10-04 16:07:16.559 +03:00 [INF] Executed ViewResult - view Authorize executed in 362.705ms.
2023-10-04 16:07:16.560 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 439.8755ms
2023-10-04 16:07:16.560 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:07:16.563 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn&state=623ad8f89abb25d632e441200e085fd75dq0wf6AB&code_challenge=RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ&code_challenge_method=S256 - - - 200 - text/html;+charset=utf-8 465.4388ms
2023-10-04 16:07:16.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:07:16.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:07:16.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.8545ms
2023-10-04 16:07:17.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.9976ms
2023-10-04 16:07:17.600 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 553
2023-10-04 16:07:17.602 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:07:17.602 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:07:17.612 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:07:17.613 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "d19cc40b67ac06bad47b9c5fbb7340065aMkoTxGn",
  "state": "623ad8f89abb25d632e441200e085fd75dq0wf6AB",
  "code_challenge": "RjgJXZLV7tUCttb5L3s6MzgvjKPsQTA4iagPujoKbJQ",
  "code_challenge_method": "S256",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmNjOEbuaYNjik9aafj0ykdLu02nuMvInlYlv9cANpqKTVfNK8HWTaifP8QmX7bEV15sd-g4FP61OGh6XeI8YnZx3Jtw3o58_S1_ZzctgWGdzPoXsPTfHNjtSOLMP3DzCMBCflPvY3jS5RCJgllOBW644XRen8OKxuqXaeHCDs580g"
}.
2023-10-04 16:07:17.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:07:17.623 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:07:17.631 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 16:07:17.634 +03:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:07:17.643 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:07:17.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 16:07:17.653 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 16:07:17.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:07:17.711 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'offline_access')
2023-10-04 16:07:17.741 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:17.803 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 16:07:17.824 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 16:07:17.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:17.866 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:17.906 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:07:18.133 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.164 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:07:18.180 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 16:07:18.195 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "623ad8f89abb25d632e441200e085fd75dq0wf6AB",
  "iss": "https://localhost:44395/"
}.
2023-10-04 16:07:18.202 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer) in 566.866ms
2023-10-04 16:07:18.203 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 16:07:18.204 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 553 - 302 0 - 603.2445ms
2023-10-04 16:07:18.676 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 16:07:18.677 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:07:18.678 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 16:07:18.683 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "1135eb66a9a890c6ac786450598e85bb8a2add77facd1b1e19e933f04dcbXuoQVjZ",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 16:07:18.699 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:07:18.733 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:07:18.857 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.865 +03:00 [INF] The token request was successfully validated.
2023-10-04 16:07:18.869 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 16:07:18.871 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:07:18.878 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:07:18.880 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 16:07:18.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:07:18.890 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 16:07:18.893 +03:00 [INF] The token '7b2b4d96-3089-4e14-87ee-d65ef5169d1e' was successfully marked as redeemed.
2023-10-04 16:07:18.901 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:07:18.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.916 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:07:18.938 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.940 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:18.942 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:07:18.948 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 16:07:18.953 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 81.0527ms
2023-10-04 16:07:18.954 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 16:07:18.954 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6127 application/json;charset=UTF-8 277.9245ms
2023-10-04 16:07:18.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 16:07:18.972 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:07:18.973 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 16:07:18.977 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 16:07:18.981 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 16:07:18.996 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 16:07:18.999 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 26.9019ms
2023-10-04 16:07:19.023 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 16:07:19.024 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:07:19.025 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 1.9320ms
2023-10-04 16:07:19.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 16:07:19.027 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:07:19.028 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 16:07:19.031 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 16:07:19.053 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:19.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:19.063 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 16:07:19.069 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 16:07:19.071 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 16:07:19.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:07:19.078 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:07:19.083 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 16:07:19.091 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 18.5302ms
2023-10-04 16:07:19.091 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 16:07:19.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 64.9181ms
2023-10-04 16:07:36.376 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhYmE0NmViZS1jZGFmLTRmNTYtYjQ5Ni0xNzFkMDRhNTUzOTQiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiYzU0NmI1OGEtMTkzMC00ODQyLTk3ZGQtYTJlZGM5ZmZlNzRiIiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiJkMTljYzQwYjY3YWMwNmJhZDQ3YjljNWZiYjczNDAwNjVhTWtvVHhHbiIsImF0X2hhc2giOiJPaTh6SGhnMTd6UjlvRmlaOTBOUlhnIiwib2lfdGtuX2lkIjoiOTE4ODQwMjctODE3NC00YTZkLTg1YTYtOWU2OWEzODBiOWJiIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDI2MDM4LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MjQ4Mzh9.dlzalPSEHusnr4YRi7cohHEUI4qxuqeS3x00Z0Nbjgts-8_4FaJhQH-GEsfkbX3wuQKrFZUZ98JWEKjzd22KKt1inhI0kbit0LAopJod94Cam4pGxrt-I4qE3sJFcku5LC562ei6tChfSQIeLymTl2p68cQn2ZQBG19uII2tdoMohgpF44zfVZ8jKWTVGwSBtGwkyTrv6gNtVBO1vWfJbF3IzQiIoiGNgRzHTTvZfeTahjakTjxJVOuyJuSVGND2zJWrk_sBatGm0GQ0XmnE1IBrBO68g_bamVrWwm24lmPavFKp8-2bQkoOIYy9CGRWcR7nl0pzQxl1LOnVhKtAlA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 16:07:36.378 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 16:07:36.381 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 16:07:36.410 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 16:07:36.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:36.427 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:36.434 +03:00 [INF] The logout request was successfully validated.
2023-10-04 16:07:36.444 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 16:07:36.445 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:07:36.577 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 16:07:36.588 +03:00 [INF] Executed ViewResult - view Logout executed in 140.4676ms.
2023-10-04 16:07:36.588 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 141.2635ms
2023-10-04 16:07:36.589 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 16:07:36.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhYmE0NmViZS1jZGFmLTRmNTYtYjQ5Ni0xNzFkMDRhNTUzOTQiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiYzU0NmI1OGEtMTkzMC00ODQyLTk3ZGQtYTJlZGM5ZmZlNzRiIiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiJkMTljYzQwYjY3YWMwNmJhZDQ3YjljNWZiYjczNDAwNjVhTWtvVHhHbiIsImF0X2hhc2giOiJPaTh6SGhnMTd6UjlvRmlaOTBOUlhnIiwib2lfdGtuX2lkIjoiOTE4ODQwMjctODE3NC00YTZkLTg1YTYtOWU2OWEzODBiOWJiIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDI2MDM4LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MjQ4Mzh9.dlzalPSEHusnr4YRi7cohHEUI4qxuqeS3x00Z0Nbjgts-8_4FaJhQH-GEsfkbX3wuQKrFZUZ98JWEKjzd22KKt1inhI0kbit0LAopJod94Cam4pGxrt-I4qE3sJFcku5LC562ei6tChfSQIeLymTl2p68cQn2ZQBG19uII2tdoMohgpF44zfVZ8jKWTVGwSBtGwkyTrv6gNtVBO1vWfJbF3IzQiIoiGNgRzHTTvZfeTahjakTjxJVOuyJuSVGND2zJWrk_sBatGm0GQ0XmnE1IBrBO68g_bamVrWwm24lmPavFKp8-2bQkoOIYy9CGRWcR7nl0pzQxl1LOnVhKtAlA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 215.4355ms
2023-10-04 16:07:37.026 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:07:37.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 2.5007ms
2023-10-04 16:07:37.043 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:07:37.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5563ms
2023-10-04 16:07:37.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2023-10-04 16:07:37.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2023-10-04 16:07:37.156 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2023-10-04 16:07:37.156 +03:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2023-10-04 16:07:37.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 625953 text/plain 59.2420ms
2023-10-04 16:07:37.159 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 311949 text/plain 48.8078ms
2023-10-04 16:07:38.702 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322
2023-10-04 16:07:38.704 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:07:38.704 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:07:38.704 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 16:07:38.705 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmMgmJyub7KX81qYUKJr1jKzaBIqyrymc29RZwAQgTbtrhICAl--QfRDslbMvpUV0CxTZTkfzYmPvI0n1ZbkztobbuHmCmRJ9BelGHf6ORIP6FlObAli6ScWogrErbd_y9CbVOLk8ILuVQK1BC2BzA00WU0tp2FX0ybMTepNlIilyA"
}.
2023-10-04 16:07:38.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 16:07:38.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:38.717 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:07:38.719 +03:00 [INF] The logout request was successfully validated.
2023-10-04 16:07:38.720 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 16:07:38.723 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:07:38.726 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 16:07:38.727 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:07:38.728 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 16:07:38.729 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 16:07:38.741 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 16:07:38.742 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 17.9321ms
2023-10-04 16:07:38.743 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 16:07:38.743 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322 - 302 0 - 41.1246ms
2023-10-04 16:24:19.045 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:24:19.169 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:24:19.170 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:24:19.171 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:24:19.171 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:24:19.172 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:24:19.173 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:24:19.173 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:24:19.181 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:24:19.183 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:24:21.577 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:24:21.664 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 16:24:21.928 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:24:22.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:24:22.030 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:24:22.554 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:24:22.555 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:24:22.555 +03:00 [INF] Hosting environment: Development
2023-10-04 16:24:22.556 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:24:22.604 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:24:23.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:24:23.276 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:24:23.289 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:24:25.794 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:24:26.867 +03:00 [INF] Executed ViewResult - view Index executed in 3566.8829ms.
2023-10-04 16:24:26.872 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3580.879ms
2023-10-04 16:24:26.873 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:24:26.902 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 3814.2678ms
2023-10-04 16:24:27.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 16:24:27.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 16:24:27.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 16:24:27.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 16:24:27.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:24:27.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 16:24:27.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:24:27.257 +03:00 [INF] The file /css/site.css was not modified
2023-10-04 16:24:27.257 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-10-04 16:24:27.257 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-10-04 16:24:27.257 +03:00 [INF] The file /js/site.js was not modified
2023-10-04 16:24:27.257 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-10-04 16:24:27.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - text/javascript 21.5669ms
2023-10-04 16:24:27.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - text/javascript 23.3214ms
2023-10-04 16:24:27.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 304 - text/css 23.3320ms
2023-10-04 16:24:27.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 23.4054ms
2023-10-04 16:24:27.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 304 - text/javascript 23.3293ms
2023-10-04 16:24:27.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 34.9820ms
2023-10-04 16:24:27.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.7681ms
2023-10-04 16:25:03.007 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 16:25:03.015 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:25:03.019 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 16:25:03.026 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 16:25:03.028 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 16:25:03.045 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataEventRecords"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 16:25:03.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1608 application/json;charset=UTF-8 43.4287ms
2023-10-04 16:25:03.061 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=a3d1c4643d84386a435ed53aa87feb07f0SdW4UtW&state=485df0251e049ac47349f2a0542d248e384YZKB7x&code_challenge=Z0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc&code_challenge_method=S256 - -
2023-10-04 16:25:03.067 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:25:03.076 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "a3d1c4643d84386a435ed53aa87feb07f0SdW4UtW",
  "state": "485df0251e049ac47349f2a0542d248e384YZKB7x",
  "code_challenge": "Z0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc",
  "code_challenge_method": "S256"
}.
2023-10-04 16:25:03.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:25:03.135 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:25:03.142 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:25:03.147 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:25:03.166 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 16:25:03.171 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 16:25:03.172 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 23.3379ms
2023-10-04 16:25:03.172 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:25:03.177 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=a3d1c4643d84386a435ed53aa87feb07f0SdW4UtW&state=485df0251e049ac47349f2a0542d248e384YZKB7x&code_challenge=Z0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc&code_challenge_method=S256 - - - 302 0 - 116.4374ms
2023-10-04 16:25:03.182 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - -
2023-10-04 16:25:03.212 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:25:03.235 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:25:03.263 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:25:03.271 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:25:03.273 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:25:03.275 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:25:03.276 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:25:03.359 +03:00 [INF] Executed page /Account/Login in 123.1261ms
2023-10-04 16:25:03.360 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:25:03.365 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 183.0154ms
2023-10-04 16:25:03.752 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:25:03.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:25:03.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 7.0299ms
2023-10-04 16:25:03.806 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.1571ms
2023-10-04 16:25:10.094 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 16:25:10.096 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:25:10.097 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:25:10.104 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:25:10.112 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:25:10.137 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:25:10.139 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:25:10.141 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:25:10.145 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:25:10.146 +03:00 [INF] Executed page /Account/ExternalLogin in 33.908ms
2023-10-04 16:25:10.147 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:25:10.147 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 53.2509ms
2023-10-04 16:25:16.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - -
2023-10-04 16:25:16.199 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:25:16.200 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:25:16.201 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:25:16.203 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:25:16.204 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:25:16.204 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:25:16.205 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:25:16.219 +03:00 [INF] Executed page /Account/Login in 18.01ms
2023-10-04 16:25:16.219 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:25:16.223 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 26.3793ms
2023-10-04 16:25:16.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:25:16.645 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 5.7195ms
2023-10-04 16:25:48.224 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 16:25:48.227 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:25:48.227 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:25:48.228 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:25:48.228 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:25:48.230 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:25:48.231 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:25:48.232 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:25:48.233 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:25:48.233 +03:00 [INF] Executed page /Account/ExternalLogin in 4.9927ms
2023-10-04 16:25:48.234 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:25:48.235 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 10.8597ms
2023-10-04 16:25:52.531 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - -
2023-10-04 16:25:52.534 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:25:52.534 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:25:52.535 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:25:52.536 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:25:52.536 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:25:52.537 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:25:52.537 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:25:52.547 +03:00 [INF] Executed page /Account/Login in 11.9235ms
2023-10-04 16:25:52.549 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:25:52.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 26.6766ms
2023-10-04 16:25:52.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:25:52.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 5.0735ms
2023-10-04 16:27:18.850 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 16:27:18.858 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:27:18.858 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:27:18.860 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:27:18.861 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:27:18.863 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:27:18.863 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:27:18.864 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:27:18.864 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:27:18.864 +03:00 [INF] Executed page /Account/ExternalLogin in 2.7835ms
2023-10-04 16:27:18.865 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:27:18.865 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 15.3456ms
2023-10-04 16:27:23.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - -
2023-10-04 16:27:23.851 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:27:23.851 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:27:23.852 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:27:23.853 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:27:23.853 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:27:23.854 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:27:23.854 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:27:23.860 +03:00 [INF] Executed page /Account/Login in 7.6895ms
2023-10-04 16:27:23.860 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:27:23.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3Da3d1c4643d84386a435ed53aa87feb07f0SdW4UtW%26state%3D485df0251e049ac47349f2a0542d248e384YZKB7x%26code_challenge%3DZ0Eb9KubFovfhI2QhejZHbgU1Z-TlbtueW6UsfHkrSc%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 21.4897ms
2023-10-04 16:27:24.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:27:24.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 7.2010ms
2023-10-04 16:27:28.932 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:27:29.061 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:27:29.062 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:27:29.063 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:27:29.064 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:27:29.064 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:27:29.065 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:27:29.065 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:27:29.079 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:27:29.081 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:27:30.117 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:27:30.169 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 16:27:30.689 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:27:30.766 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:27:30.800 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:27:31.508 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:27:31.509 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:27:31.513 +03:00 [INF] Hosting environment: Development
2023-10-04 16:27:31.520 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:27:31.523 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:27:32.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:27:32.559 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:27:32.568 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:27:35.426 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:27:36.639 +03:00 [INF] Executed ViewResult - view Index executed in 4060.4404ms.
2023-10-04 16:27:36.646 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 4076.7657ms
2023-10-04 16:27:36.648 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:27:36.677 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4269.1990ms
2023-10-04 16:27:37.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:27:37.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:27:37.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 24.2598ms
2023-10-04 16:27:37.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.4747ms
2023-10-04 16:27:44.025 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register - -
2023-10-04 16:27:44.050 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:27:44.072 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:27:44.093 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:27:44.096 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:27:44.100 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:27:44.100 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:27:44.182 +03:00 [INF] Executed page /Account/Register in 109.2954ms
2023-10-04 16:27:44.183 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:27:44.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 168.3505ms
2023-10-04 16:27:44.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:27:44.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:27:44.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 2.8619ms
2023-10-04 16:27:44.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.0536ms
2023-10-04 16:27:45.523 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin application/x-www-form-urlencoded 198
2023-10-04 16:27:45.528 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:27:45.528 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:27:45.545 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:27:45.551 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:27:45.587 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:27:45.589 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:27:45.591 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:27:45.602 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:27:45.604 +03:00 [INF] Executed page /Account/ExternalLogin in 52.605ms
2023-10-04 16:27:45.606 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:27:45.607 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin application/x-www-form-urlencoded 198 - 302 0 - 83.0900ms
2023-10-04 16:27:47.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register - -
2023-10-04 16:27:47.450 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:27:47.451 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:27:47.454 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:27:47.455 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:27:47.455 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:27:47.456 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:27:47.463 +03:00 [INF] Executed page /Account/Register in 9.7171ms
2023-10-04 16:27:47.464 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:27:47.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 17.3964ms
2023-10-04 16:27:47.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:27:47.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.6191ms
2023-10-04 16:27:50.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register - -
2023-10-04 16:27:50.610 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:27:50.610 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:27:50.611 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:27:50.612 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:27:50.613 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:27:50.613 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:27:50.624 +03:00 [INF] Executed page /Account/Register in 12.8063ms
2023-10-04 16:27:50.626 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:27:50.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 21.3006ms
2023-10-04 16:27:51.042 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:27:51.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.6230ms
2023-10-04 16:27:53.634 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin application/x-www-form-urlencoded 198
2023-10-04 16:27:53.636 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:27:53.636 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:27:53.637 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:27:53.638 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:27:53.641 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:27:53.641 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:27:53.642 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:27:53.644 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:27:53.646 +03:00 [INF] Executed page /Account/ExternalLogin in 7.4898ms
2023-10-04 16:27:53.646 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:27:53.647 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin application/x-www-form-urlencoded 198 - 302 0 - 12.8247ms
2023-10-04 16:28:13.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 16:28:13.002 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:28:13.003 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 16:28:13.009 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 16:28:13.011 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 16:28:13.037 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataEventRecords"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 16:28:13.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1608 application/json;charset=UTF-8 40.4305ms
2023-10-04 16:28:13.052 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=14cfce83af729c7aa4b4c627a111786580ctGZfov&state=01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR&code_challenge=w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU&code_challenge_method=S256 - -
2023-10-04 16:28:13.054 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:28:13.063 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "14cfce83af729c7aa4b4c627a111786580ctGZfov",
  "state": "01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR",
  "code_challenge": "w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU",
  "code_challenge_method": "S256"
}.
2023-10-04 16:28:13.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:28:13.128 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:28:13.133 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:28:13.137 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:28:13.151 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 16:28:13.152 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 16:28:13.153 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 13.9333ms
2023-10-04 16:28:13.154 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:28:13.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=14cfce83af729c7aa4b4c627a111786580ctGZfov&state=01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR&code_challenge=w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU&code_challenge_method=S256 - - - 302 0 - 106.1360ms
2023-10-04 16:28:13.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256 - -
2023-10-04 16:28:13.168 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:28:13.172 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:28:13.175 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:28:13.179 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:28:13.180 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:28:13.181 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:28:13.181 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:28:13.205 +03:00 [INF] Executed page /Account/Login in 32.4502ms
2023-10-04 16:28:13.205 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:28:13.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 45.8873ms
2023-10-04 16:28:13.603 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:28:13.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:28:13.609 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 6.2846ms
2023-10-04 16:28:13.634 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.1152ms
2023-10-04 16:28:14.503 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 16:28:14.505 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:28:14.505 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:28:14.506 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:28:14.506 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:28:14.507 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:28:14.508 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:28:14.508 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:28:14.509 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:28:14.509 +03:00 [INF] Executed page /Account/ExternalLogin in 2.7103ms
2023-10-04 16:28:14.510 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:28:14.511 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 7.8099ms
2023-10-04 16:28:18.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmP9YQqPLjYjArNl9XZNEeQWQj9nw_akjByRuw8XUDN_oeAlkPgmu5ySNmwnSN22JBzba82pW4aa9cEv9hXvOpvKuM8AagQ3Xf993wwoC-4CDZ7q54PR_1LTILTV7jkPY_6KhlruA4q5KiCHYXv7YyVeT8G3lcGyggbYqKA1r5xXkTaSejQxog0A6pMuqlG6h9cpQBVUSp6Q6e1Sn_iG3xHv28d4Psu_GDU_WOm-FfArXN_8lC0z6sdc9-TIFSRrX8XPckz28jnIW2y0yIW7dTOI8U8-Hr_5f6IrirnrRxU8vzuZggrHWM9An6yoNhjP65VXid3yDLxNwTLvPPJHn50yyFPSv19yR1zE_9r0pcsioKLwTIsRPuKJep0YV1lOJCsviHGK0-mF8ZPQuRBV5pWn3YOPOksqfakXciPH2OiJSGGZdr-Ve2CFCYBiVKqVdr1w_peXc9oGSXX8KZZNfW4hSS2M3Z1hwE1wTgxw9Z4QjoX8cJhVzk86lIndkPXpP8FDxot3cvV2UiktATuWAezre9ptIhM7-9nkL6yZgFuL1grg4yViR7C9ySms6mNt8tSitjghY-JJ6XDswF8a-ls-VP7ks-SbDZkBmBtLuBCSXwbKjfjLTvwOoFipld-Cu9rvDVPG2_IXPWRFSmIu2zz0hvpcsABo1rhSCPsobPgCEVXHtR73da_aOEAbcBNEhca4ynEiRLyBfvEdR6JpCx38c0MEcLvjd6umRMv8FUDT04dGma7G8OKL9sjbOL0B5_-f0j7foBpM7jZ66IxWTrgsyL8dNId1vq6zs75cTLqulw&code=4%2F0AfJohXlEolnznOz9rdrsIUrMFirLrL1hWJpsDjHESmSDVX5dEicSRJXVDojKsW3hMKBVYg&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 16:28:19.113 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 16:28:19.113 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmP9YQqPLjYjArNl9XZNEeQWQj9nw_akjByRuw8XUDN_oeAlkPgmu5ySNmwnSN22JBzba82pW4aa9cEv9hXvOpvKuM8AagQ3Xf993wwoC-4CDZ7q54PR_1LTILTV7jkPY_6KhlruA4q5KiCHYXv7YyVeT8G3lcGyggbYqKA1r5xXkTaSejQxog0A6pMuqlG6h9cpQBVUSp6Q6e1Sn_iG3xHv28d4Psu_GDU_WOm-FfArXN_8lC0z6sdc9-TIFSRrX8XPckz28jnIW2y0yIW7dTOI8U8-Hr_5f6IrirnrRxU8vzuZggrHWM9An6yoNhjP65VXid3yDLxNwTLvPPJHn50yyFPSv19yR1zE_9r0pcsioKLwTIsRPuKJep0YV1lOJCsviHGK0-mF8ZPQuRBV5pWn3YOPOksqfakXciPH2OiJSGGZdr-Ve2CFCYBiVKqVdr1w_peXc9oGSXX8KZZNfW4hSS2M3Z1hwE1wTgxw9Z4QjoX8cJhVzk86lIndkPXpP8FDxot3cvV2UiktATuWAezre9ptIhM7-9nkL6yZgFuL1grg4yViR7C9ySms6mNt8tSitjghY-JJ6XDswF8a-ls-VP7ks-SbDZkBmBtLuBCSXwbKjfjLTvwOoFipld-Cu9rvDVPG2_IXPWRFSmIu2zz0hvpcsABo1rhSCPsobPgCEVXHtR73da_aOEAbcBNEhca4ynEiRLyBfvEdR6JpCx38c0MEcLvjd6umRMv8FUDT04dGma7G8OKL9sjbOL0B5_-f0j7foBpM7jZ66IxWTrgsyL8dNId1vq6zs75cTLqulw&code=4%2F0AfJohXlEolnznOz9rdrsIUrMFirLrL1hWJpsDjHESmSDVX5dEicSRJXVDojKsW3hMKBVYg&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 403.0720ms
2023-10-04 16:28:19.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 16:28:19.120 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:28:19.120 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:28:19.121 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 16:28:19.194 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 16:28:19.201 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:28:19.220 +03:00 [INF] Executed page /Account/ExternalLogin in 98.7761ms
2023-10-04 16:28:19.221 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:28:19.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256&handler=Callback - - - 200 - text/html;+charset=utf-8 105.9727ms
2023-10-04 16:28:19.680 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:28:19.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:28:19.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.2341ms
2023-10-04 16:28:19.714 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.2315ms
2023-10-04 16:28:21.197 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256&handler=Confirmation application/x-www-form-urlencoded 216
2023-10-04 16:28:21.199 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:28:21.200 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:28:21.201 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:28:21.201 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:28:21.203 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPostConfirmationAsync - ModelState is "Valid"
2023-10-04 16:28:21.232 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:28:21.278 +03:00 [INF] Executed handler method OnPostConfirmationAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:28:21.285 +03:00 [INF] Executed page /Account/ExternalLogin in 83.1146ms
2023-10-04 16:28:21.285 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:28:21.287 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256&handler=Confirmation application/x-www-form-urlencoded 216 - 200 - text/html;+charset=utf-8 90.4196ms
2023-10-04 16:28:21.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:28:21.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:28:21.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.1305ms
2023-10-04 16:28:21.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.3433ms
2023-10-04 16:28:23.904 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256&handler=Confirmation application/x-www-form-urlencoded 217
2023-10-04 16:28:23.906 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:28:23.907 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:28:23.909 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:28:23.910 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:28:23.911 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPostConfirmationAsync - ModelState is "Valid"
2023-10-04 16:28:23.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:28:24.042 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-10-04 16:28:24.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 16:28:24.073 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:28:24.114 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p18='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p19='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-10-04 16:28:24.129 +03:00 [INF] User created an account using Google provider.
2023-10-04 16:28:24.167 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 16:28:24.193 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:28:24.198 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 16:28:24.198 +03:00 [INF] Executed handler method OnPostConfirmationAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 16:28:24.200 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=14cfce83af729c7aa4b4c627a111786580ctGZfov&state=01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR&code_challenge=w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU&code_challenge_method=S256.
2023-10-04 16:28:24.201 +03:00 [INF] Executed page /Account/ExternalLogin in 290.1042ms
2023-10-04 16:28:24.201 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:28:24.202 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D14cfce83af729c7aa4b4c627a111786580ctGZfov%26state%3D01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR%26code_challenge%3Dw-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU%26code_challenge_method%3DS256&handler=Confirmation application/x-www-form-urlencoded 217 - 302 0 - 297.5603ms
2023-10-04 16:28:24.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=14cfce83af729c7aa4b4c627a111786580ctGZfov&state=01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR&code_challenge=w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU&code_challenge_method=S256 - -
2023-10-04 16:28:24.208 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:28:24.208 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "14cfce83af729c7aa4b4c627a111786580ctGZfov",
  "state": "01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR",
  "code_challenge": "w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU",
  "code_challenge_method": "S256"
}.
2023-10-04 16:28:24.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:28:24.218 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:28:24.220 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:28:24.221 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:28:24.238 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:28:24.307 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 16:28:24.618 +03:00 [INF] Executing ViewResult, running view Authorize.
2023-10-04 16:28:24.629 +03:00 [INF] Executed ViewResult - view Authorize executed in 310.5861ms.
2023-10-04 16:28:24.630 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 405.9114ms
2023-10-04 16:28:24.630 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:28:24.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=14cfce83af729c7aa4b4c627a111786580ctGZfov&state=01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR&code_challenge=w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU&code_challenge_method=S256 - - - 200 - text/html;+charset=utf-8 427.9019ms
2023-10-04 16:28:25.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:28:25.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.5276ms
2023-10-04 16:28:25.060 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:28:25.086 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.4020ms
2023-10-04 16:28:26.298 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 553
2023-10-04 16:28:26.300 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:28:26.300 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:28:26.310 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:28:26.311 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "14cfce83af729c7aa4b4c627a111786580ctGZfov",
  "state": "01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR",
  "code_challenge": "w-HxvUrwLP-NjVA_8C2ZIvWBeLAf0a4u9LxfOaI0QdU",
  "code_challenge_method": "S256",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmO4iZ6pxNNzMHOqOsz3bk8sxWjSyTAkFQiOd0Z9D_i-NujFTp_RHjAJ5zJc033NEx0PZ34LcsyBxDByxgp2AsCyDJbNBJ-1itNGL2r0LiIJrdAIWSJbJCYJSCC-Vp_lSAfs5zWHBopfKr1xahD7RCc0suY_3JK0g9VhcpErNwHpVA"
}.
2023-10-04 16:28:26.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:28:26.324 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:28:26.335 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 16:28:26.340 +03:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:28:26.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:28:26.353 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 16:28:26.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 16:28:26.361 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:28:26.409 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'offline_access')
2023-10-04 16:28:26.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:26.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 16:28:26.501 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 16:28:26.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:26.545 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:26.590 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:28:26.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:26.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:26.794 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:28:26.804 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 16:28:26.818 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "01128ab4d6ded42afa9dcc9206ecda0a230AfMaOR",
  "iss": "https://localhost:44395/"
}.
2023-10-04 16:28:26.826 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer) in 483.4981ms
2023-10-04 16:28:26.826 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 16:28:26.827 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 553 - 302 0 - 528.4459ms
2023-10-04 16:28:27.471 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 16:28:27.471 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:28:27.472 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 16:28:27.485 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "bc4645c383277782633f5aea5618b701aaff151cd38d4182e4ea53761b3eu0Eoh4j",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 16:28:27.498 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:28:27.536 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:28:27.639 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.648 +03:00 [INF] The token request was successfully validated.
2023-10-04 16:28:27.651 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 16:28:27.654 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:28:27.661 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:28:27.663 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 16:28:27.667 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:28:27.673 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 16:28:27.676 +03:00 [INF] The token 'b3152e40-464e-4c25-aeac-56209aee82a4' was successfully marked as redeemed.
2023-10-04 16:28:27.684 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.686 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.690 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:28:27.698 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.700 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:28:27.723 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.725 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.727 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:28:27.733 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 16:28:27.738 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 82.743ms
2023-10-04 16:28:27.739 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 16:28:27.740 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6130 application/json;charset=UTF-8 269.2246ms
2023-10-04 16:28:27.768 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 16:28:27.769 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:28:27.769 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 16:28:27.774 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 16:28:27.777 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 16:28:27.794 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 16:28:27.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 29.7651ms
2023-10-04 16:28:27.817 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 16:28:27.818 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:28:27.820 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 2.4334ms
2023-10-04 16:28:27.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 16:28:27.822 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:28:27.822 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 16:28:27.825 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 16:28:27.847 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:28:27.857 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 16:28:27.863 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 16:28:27.865 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 16:28:27.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:28:27.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:28:27.876 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 16:28:27.883 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 17.641ms
2023-10-04 16:28:27.884 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 16:28:27.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 62.8632ms
2023-10-04 16:30:39.661 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:30:39.809 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:30:39.813 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:30:39.833 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:30:39.840 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:30:39.842 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:30:39.844 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:30:39.845 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:30:39.861 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:30:39.864 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:30:41.094 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:30:41.139 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 16:30:41.576 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:30:41.656 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:30:41.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:30:42.155 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:30:42.157 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:30:42.158 +03:00 [INF] Hosting environment: Development
2023-10-04 16:30:42.159 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:30:42.172 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:30:43.339 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:30:43.557 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:30:43.568 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:30:46.191 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:30:47.479 +03:00 [INF] Executed ViewResult - view Index executed in 3900.7286ms.
2023-10-04 16:30:47.488 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3918.6639ms
2023-10-04 16:30:47.489 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:30:47.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4184.4036ms
2023-10-04 16:30:47.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:30:47.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:30:47.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 21.4313ms
2023-10-04 16:30:47.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.9398ms
2023-10-04 16:30:50.013 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2023-10-04 16:30:50.017 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:30:50.018 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:30:50.050 +03:00 [INF] Executing endpoint '/Account/Logout'
2023-10-04 16:30:50.066 +03:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2023-10-04 16:30:50.102 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LogoutModel.OnPost - ModelState is "Valid"
2023-10-04 16:30:50.111 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 16:30:50.113 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:30:50.114 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 16:30:50.115 +03:00 [INF] User logged out.
2023-10-04 16:30:50.117 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 16:30:50.120 +03:00 [INF] Executing LocalRedirectResult, redirecting to /.
2023-10-04 16:30:50.121 +03:00 [INF] Executed page /Account/Logout in 53.4708ms
2023-10-04 16:30:50.121 +03:00 [INF] Executed endpoint '/Account/Logout'
2023-10-04 16:30:50.123 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 109.8112ms
2023-10-04 16:30:50.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:30:50.134 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:30:50.135 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:30:50.137 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:30:50.152 +03:00 [INF] Executed ViewResult - view Index executed in 14.5317ms.
2023-10-04 16:30:50.152 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 15.6883ms
2023-10-04 16:30:50.153 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:30:50.155 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 26.6098ms
2023-10-04 16:30:50.575 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:30:50.575 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:30:50.576 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.2481ms
2023-10-04 16:30:50.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.6372ms
2023-10-04 16:30:51.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register - -
2023-10-04 16:30:51.009 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:30:51.020 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:30:51.027 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:30:51.030 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:30:51.033 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:30:51.034 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:30:51.098 +03:00 [INF] Executed page /Account/Register in 77.4247ms
2023-10-04 16:30:51.098 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:30:51.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 104.7278ms
2023-10-04 16:30:51.521 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:30:51.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 3.3145ms
2023-10-04 16:30:51.525 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:30:51.568 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.9982ms
2023-10-04 16:31:14.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login - -
2023-10-04 16:31:14.888 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 16:31:14.892 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 16:31:14.895 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:31:14.897 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 16:31:14.897 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:31:14.898 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:31:14.898 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:31:14.922 +03:00 [INF] Executed page /Account/Login in 28.778ms
2023-10-04 16:31:14.922 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 16:31:14.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 51.4182ms
2023-10-04 16:31:15.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:31:15.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:31:15.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 2.0939ms
2023-10-04 16:31:15.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.9130ms
2023-10-04 16:44:45.851 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 16:44:45.991 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 16:44:45.995 +03:00 [INF] Quartz Scheduler created
2023-10-04 16:44:45.998 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 16:44:46.000 +03:00 [INF] RAMJobStore initialized.
2023-10-04 16:44:46.003 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 16:44:46.005 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 16:44:46.006 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 16:44:46.021 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 16:44:46.024 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 16:44:47.575 +03:00 [INF] Executed DbCommand (233ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [aiir-openiddict-server];
2023-10-04 16:44:47.630 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [aiir-openiddict-server] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-10-04 16:44:47.654 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 16:44:47.806 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-10-04 16:44:47.808 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-10-04 16:44:47.811 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2023-10-04 16:44:47.818 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2023-10-04 16:44:47.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:44:47.867 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:44:47.876 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:44:47.883 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:44:47.896 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 16:44:47.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id])
);
2023-10-04 16:44:47.905 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id])
);
2023-10-04 16:44:47.909 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-10-04 16:44:47.912 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-10-04 16:44:47.913 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-10-04 16:44:47.915 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-10-04 16:44:47.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-10-04 16:44:47.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-10-04 16:44:47.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-10-04 16:44:47.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2023-10-04 16:44:47.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-04 16:44:47.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2023-10-04 16:44:47.928 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-04 16:44:47.929 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2023-10-04 16:44:47.932 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2023-10-04 16:44:48.264 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:44:48.314 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:44:48.456 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:44:48.477 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:44:48.496 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:44:48.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:44:48.519 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:44:48.536 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 16:44:48.559 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 16:44:49.095 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 16:44:49.096 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 16:44:49.096 +03:00 [INF] Hosting environment: Development
2023-10-04 16:44:49.096 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 16:44:49.100 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 16:44:49.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:44:49.879 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:44:49.892 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:44:52.490 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:44:53.713 +03:00 [INF] Executed ViewResult - view Index executed in 3805.7393ms.
2023-10-04 16:44:53.719 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3824.6996ms
2023-10-04 16:44:53.720 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:44:53.750 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4102.7592ms
2023-10-04 16:44:54.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 16:44:54.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:44:54.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 16:44:54.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 16:44:54.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 16:44:54.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 16:44:54.104 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:44:54.113 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-10-04 16:44:54.113 +03:00 [INF] The file /css/site.css was not modified
2023-10-04 16:44:54.113 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-10-04 16:44:54.113 +03:00 [INF] The file /js/site.js was not modified
2023-10-04 16:44:54.113 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-10-04 16:44:54.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - text/javascript 15.4542ms
2023-10-04 16:44:54.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - text/javascript 15.3998ms
2023-10-04 16:44:54.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 304 - text/javascript 15.3985ms
2023-10-04 16:44:54.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 15.4429ms
2023-10-04 16:44:54.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 304 - text/css 15.3874ms
2023-10-04 16:44:54.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 22.0815ms
2023-10-04 16:44:54.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.7108ms
2023-10-04 16:44:55.417 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Register - -
2023-10-04 16:44:55.453 +03:00 [INF] Executing endpoint '/Account/Register'
2023-10-04 16:44:55.476 +03:00 [INF] Route matched with {page = "/Account/Register", area = "Identity", action = "", controller = ""}. Executing page /Account/Register
2023-10-04 16:44:55.497 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterModel.OnGetAsync - ModelState is "Valid"
2023-10-04 16:44:55.500 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 16:44:55.503 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 16:44:55.503 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:44:55.595 +03:00 [INF] Executed page /Account/Register in 117.5482ms
2023-10-04 16:44:55.596 +03:00 [INF] Executed endpoint '/Account/Register'
2023-10-04 16:44:55.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 184.4592ms
2023-10-04 16:44:56.095 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:44:56.097 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:44:56.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 4.1643ms
2023-10-04 16:44:56.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.2523ms
2023-10-04 16:44:57.008 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin application/x-www-form-urlencoded 198
2023-10-04 16:44:57.012 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:44:57.013 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:44:57.028 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:44:57.035 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:44:57.074 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 16:44:57.077 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 16:44:57.079 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 16:44:57.092 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 16:44:57.095 +03:00 [INF] Executed page /Account/ExternalLogin in 59.9795ms
2023-10-04 16:44:57.096 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:44:57.097 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin application/x-www-form-urlencoded 198 - 302 0 - 89.3338ms
2023-10-04 16:45:00.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmPhIAUo39uEcKiF0I5kgeJMwsKFZdcjuWBX5B5YKmug9gMZ6acya_drO9pK8NtQkmF4U6ZyVPUxXmkFZw_JyMTpd-CABlHo578XbB7UoJE_dob3KIdFeLMSbc4xwi2Ch3RYUn1ugy3wniflj5MC1T-hd2ETjXJvquxShEjd7QhclMUhrx89zpyG19RRNzIg70DZ2UmUgGIvog4LobxH_2h7uieuhQgRFaG1k7S-4qJNgSG9QbYYvnU1fgwyLCwoEwihCSViBSGoKgAOcLv-KfV9&code=4%2F0AfJohXnWsOKQ-7GCII5wfNMBZlET2MrHBQ5262XcDPpHanznI-cxDWn5ZxmfQIZa8GYogA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 16:45:00.527 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 16:45:00.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmPhIAUo39uEcKiF0I5kgeJMwsKFZdcjuWBX5B5YKmug9gMZ6acya_drO9pK8NtQkmF4U6ZyVPUxXmkFZw_JyMTpd-CABlHo578XbB7UoJE_dob3KIdFeLMSbc4xwi2Ch3RYUn1ugy3wniflj5MC1T-hd2ETjXJvquxShEjd7QhclMUhrx89zpyG19RRNzIg70DZ2UmUgGIvog4LobxH_2h7uieuhQgRFaG1k7S-4qJNgSG9QbYYvnU1fgwyLCwoEwihCSViBSGoKgAOcLv-KfV9&code=4%2F0AfJohXnWsOKQ-7GCII5wfNMBZlET2MrHBQ5262XcDPpHanznI-cxDWn5ZxmfQIZa8GYogA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 474.3638ms
2023-10-04 16:45:00.533 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?handler=Callback - -
2023-10-04 16:45:00.534 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:45:00.535 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:45:00.537 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 16:45:00.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 16:45:00.581 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 16:45:00.604 +03:00 [INF] Executed page /Account/ExternalLogin in 68.194ms
2023-10-04 16:45:00.604 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:45:00.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?handler=Callback - - - 200 - text/html;+charset=utf-8 78.3360ms
2023-10-04 16:45:01.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:45:01.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:45:01.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.9498ms
2023-10-04 16:45:01.048 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.9647ms
2023-10-04 16:45:02.283 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2F&handler=Confirmation application/x-www-form-urlencoded 216
2023-10-04 16:45:02.285 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:45:02.286 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:45:02.287 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 16:45:02.288 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 16:45:02.291 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPostConfirmationAsync - ModelState is "Valid"
2023-10-04 16:45:02.359 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:45:02.418 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-10-04 16:45:02.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 16:45:02.443 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 16:45:02.473 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p18='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p19='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-10-04 16:45:02.480 +03:00 [INF] User created an account using Google provider.
2023-10-04 16:45:02.523 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 16:45:02.552 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:45:02.558 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 16:45:02.558 +03:00 [INF] Executed handler method OnPostConfirmationAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 16:45:02.560 +03:00 [INF] Executing LocalRedirectResult, redirecting to /.
2023-10-04 16:45:02.561 +03:00 [INF] Executed page /Account/ExternalLogin in 272.8416ms
2023-10-04 16:45:02.562 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 16:45:02.563 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2F&handler=Confirmation application/x-www-form-urlencoded 216 - 302 0 - 279.8289ms
2023-10-04 16:45:02.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 16:45:02.576 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:45:02.577 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 16:45:02.579 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 16:45:02.588 +03:00 [INF] Executed ViewResult - view Index executed in 8.9756ms.
2023-10-04 16:45:02.589 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 9.9732ms
2023-10-04 16:45:02.589 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 16:45:02.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 20.7072ms
2023-10-04 16:45:03.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:45:03.027 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 2.2216ms
2023-10-04 16:45:03.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:45:03.074 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5175ms
2023-10-04 16:45:13.393 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 16:45:13.393 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:45:13.394 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 16:45:13.399 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 16:45:13.400 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 16:45:13.416 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataEventRecords"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 16:45:13.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1608 application/json;charset=UTF-8 29.4873ms
2023-10-04 16:45:13.434 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=18c9b98dde5a68cf08a6c8a7ec8f3142d8ZuqQZwe&state=2c492bf80901a1382b373763f3bdf5026cqC9dZuE&code_challenge=3-KJpGOxGF82QLkxNcLXEOdNe68RiVueSYAbzmi3aVo&code_challenge_method=S256 - -
2023-10-04 16:45:13.436 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:45:13.441 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "18c9b98dde5a68cf08a6c8a7ec8f3142d8ZuqQZwe",
  "state": "2c492bf80901a1382b373763f3bdf5026cqC9dZuE",
  "code_challenge": "3-KJpGOxGF82QLkxNcLXEOdNe68RiVueSYAbzmi3aVo",
  "code_challenge_method": "S256"
}.
2023-10-04 16:45:13.455 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:45:13.486 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:45:13.491 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:45:13.495 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:45:13.515 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:45:13.576 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 16:45:13.887 +03:00 [INF] Executing ViewResult, running view Authorize.
2023-10-04 16:45:13.896 +03:00 [INF] Executed ViewResult - view Authorize executed in 312.201ms.
2023-10-04 16:45:13.896 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 400.5008ms
2023-10-04 16:45:13.897 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 16:45:13.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=18c9b98dde5a68cf08a6c8a7ec8f3142d8ZuqQZwe&state=2c492bf80901a1382b373763f3bdf5026cqC9dZuE&code_challenge=3-KJpGOxGF82QLkxNcLXEOdNe68RiVueSYAbzmi3aVo&code_challenge_method=S256 - - - 200 - text/html;+charset=utf-8 467.3698ms
2023-10-04 16:45:13.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2023-10-04 16:45:13.995 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2023-10-04 16:45:13.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 304 - text/plain 2.2166ms
2023-10-04 16:45:14.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2023-10-04 16:45:14.046 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2023-10-04 16:45:14.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 304 - text/plain 5.9855ms
2023-10-04 16:45:14.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 16:45:14.352 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 16:45:14.353 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.1493ms
2023-10-04 16:45:14.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.4373ms
2023-10-04 16:45:15.029 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 553
2023-10-04 16:45:15.030 +03:00 [INF] CORS policy execution failed.
2023-10-04 16:45:15.030 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 16:45:15.041 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 16:45:15.042 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "18c9b98dde5a68cf08a6c8a7ec8f3142d8ZuqQZwe",
  "state": "2c492bf80901a1382b373763f3bdf5026cqC9dZuE",
  "code_challenge": "3-KJpGOxGF82QLkxNcLXEOdNe68RiVueSYAbzmi3aVo",
  "code_challenge_method": "S256",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmOcDrvg3iKzDRu5hyRuDd-QCMZ1AvSqqq41WRgZhUtQjWq2iYvXbKB9zxfhhOLBdqEy4gbHtXKAvMNgMnZhie6C-Ik93lbrt9QOOG62M_5uwkOaKbUvx9qwQWuoY9Ui71H24iYOE6yCPLS1wuuhaqgHWihmFqCSlO-0Y0m-D0hIyA"
}.
2023-10-04 16:45:15.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:45:15.053 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 16:45:15.062 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 16:45:15.066 +03:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:45:15.072 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:45:15.076 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 16:45:15.082 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 16:45:15.084 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:45:15.138 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'offline_access')
2023-10-04 16:45:15.155 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:15.209 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 16:45:15.228 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 16:45:15.260 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:15.271 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:15.313 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:45:15.489 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:15.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:15.516 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:45:15.527 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 16:45:15.539 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "2c492bf80901a1382b373763f3bdf5026cqC9dZuE",
  "iss": "https://localhost:44395/"
}.
2023-10-04 16:45:15.546 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer) in 479.5581ms
2023-10-04 16:45:15.547 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 16:45:15.548 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 553 - 302 0 - 519.3116ms
2023-10-04 16:45:16.242 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 16:45:16.242 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:45:16.243 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 16:45:16.255 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "0ac0d560aaf4d3178854bee4d468335d927678234c74421c2f5a560e57f1sERsfB7",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 16:45:16.277 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 16:45:16.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:45:16.460 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.472 +03:00 [INF] The token request was successfully validated.
2023-10-04 16:45:16.477 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 16:45:16.480 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 16:45:16.495 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:45:16.499 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 16:45:16.506 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 16:45:16.512 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 16:45:16.518 +03:00 [INF] The token '19349072-0e49-4f08-a8d0-c279886a8037' was successfully marked as redeemed.
2023-10-04 16:45:16.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.533 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:45:16.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.542 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.545 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:45:16.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.570 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 16:45:16.578 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 16:45:16.582 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 100.0148ms
2023-10-04 16:45:16.583 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 16:45:16.583 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6127 application/json;charset=UTF-8 341.7356ms
2023-10-04 16:45:16.617 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 16:45:16.618 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:45:16.619 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 16:45:16.624 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 16:45:16.626 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 16:45:16.639 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 16:45:16.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 26.7125ms
2023-10-04 16:45:16.671 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 16:45:16.671 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:45:16.673 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 2.0575ms
2023-10-04 16:45:16.675 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 16:45:16.675 +03:00 [INF] CORS policy execution successful.
2023-10-04 16:45:16.675 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 16:45:16.678 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 16:45:16.699 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.707 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 16:45:16.710 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 16:45:16.717 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 16:45:16.719 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 16:45:16.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 16:45:16.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 16:45:16.731 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 16:45:16.739 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 19.4847ms
2023-10-04 16:45:16.740 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 16:45:16.740 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 65.8101ms
2023-10-04 16:46:46.022 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] NOT IN (N'inactive', N'valid') OR ([o].[Status] IS NULL) OR (([o0].[Id] IS NOT NULL) AND ([o0].[Status] <> N'valid' OR ([o0].[Status] IS NULL))) OR [o].[ExpirationDate] < GETUTCDATE())
ORDER BY [o].[Id]
2023-10-04 16:46:46.083 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] <> N'valid' OR ([o].[Status] IS NULL) OR ([o].[Type] = N'ad-hoc' AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id]
2023-10-04 18:04:26.732 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 18:04:27.057 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 18:04:27.058 +03:00 [INF] Quartz Scheduler created
2023-10-04 18:04:27.058 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 18:04:27.059 +03:00 [INF] RAMJobStore initialized.
2023-10-04 18:04:27.059 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 18:04:27.060 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 18:04:27.060 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 18:04:27.069 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 18:04:27.071 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 18:04:29.310 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 18:04:29.376 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 18:04:29.780 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:04:29.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:04:29.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:04:29.988 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:04:30.014 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:04:30.034 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:04:30.060 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 18:04:30.900 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 18:04:30.902 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 18:04:30.902 +03:00 [INF] Hosting environment: Development
2023-10-04 18:04:30.903 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 18:04:30.911 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 18:04:31.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 18:04:32.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:04:32.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:04:32.462 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:04:32.476 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:04:32.487 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 18:04:43.691 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 18:04:44.928 +03:00 [INF] Executed ViewResult - view Index executed in 12428.259ms.
2023-10-04 18:04:44.933 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 12443.7362ms
2023-10-04 18:04:44.935 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:04:44.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 13009.5521ms
2023-10-04 18:04:45.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 18:04:45.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 18:04:45.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 18:04:45.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 18:04:45.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:04:45.328 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 18:04:45.332 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:04:45.344 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-10-04 18:04:45.345 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-10-04 18:04:45.345 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-10-04 18:04:45.345 +03:00 [INF] The file /css/site.css was not modified
2023-10-04 18:04:45.345 +03:00 [INF] The file /js/site.js was not modified
2023-10-04 18:04:45.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - text/javascript 19.9127ms
2023-10-04 18:04:45.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 20.0039ms
2023-10-04 18:04:45.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - text/javascript 18.6026ms
2023-10-04 18:04:45.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 304 - text/javascript 20.1213ms
2023-10-04 18:04:45.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 304 - text/css 19.9679ms
2023-10-04 18:04:45.356 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 29.0768ms
2023-10-04 18:04:45.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.1176ms
2023-10-04 18:06:34.125 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 18:06:34.128 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:06:34.132 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 18:06:34.155 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 18:06:34.156 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 18:06:34.172 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 18:06:34.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 51.3014ms
2023-10-04 18:06:34.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=df64c81157fa9327774758ac84a2b542365Sdpub3&state=ea2a6f29f4230bb79d3ee7f1a35bf938a7RMEeHYL&code_challenge=U_efkDNkCDGN9JUCqq50kn3Y1s8wYIv5eVriY26DPLM&code_challenge_method=S256 - -
2023-10-04 18:06:34.194 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:06:34.204 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "df64c81157fa9327774758ac84a2b542365Sdpub3",
  "state": "ea2a6f29f4230bb79d3ee7f1a35bf938a7RMEeHYL",
  "code_challenge": "U_efkDNkCDGN9JUCqq50kn3Y1s8wYIv5eVriY26DPLM",
  "code_challenge_method": "S256"
}.
2023-10-04 18:06:34.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:06:34.291 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:06:34.299 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:06:34.304 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:06:34.320 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:06:34.375 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 18:06:34.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:06:34.423 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:06:34.466 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'offline_access')
2023-10-04 18:06:34.475 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:06:34.508 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:34.521 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:34.583 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:06:34.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:34.815 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:34.841 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:06:34.858 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:06:34.872 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "ea2a6f29f4230bb79d3ee7f1a35bf938a7RMEeHYL",
  "iss": "https://localhost:44395/"
}.
2023-10-04 18:06:34.880 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 575.5589ms
2023-10-04 18:06:34.881 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:06:34.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=df64c81157fa9327774758ac84a2b542365Sdpub3&state=ea2a6f29f4230bb79d3ee7f1a35bf938a7RMEeHYL&code_challenge=U_efkDNkCDGN9JUCqq50kn3Y1s8wYIv5eVriY26DPLM&code_challenge_method=S256 - - - 302 0 - 694.8336ms
2023-10-04 18:06:35.555 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 18:06:35.558 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:06:35.565 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 18:06:35.582 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "ec624e70fa627d8371bbb7f04c9b9c598170ef156ae821aac2f06e986edaTFpIhd5",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:06:35.598 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:06:35.630 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:06:35.761 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.784 +03:00 [INF] The token request was successfully validated.
2023-10-04 18:06:35.790 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:06:35.792 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:06:35.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:06:35.815 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:06:35.819 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:06:35.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:06:35.828 +03:00 [INF] The token 'acfb2950-c1e0-4786-8d94-6145befa70cd' was successfully marked as redeemed.
2023-10-04 18:06:35.837 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.838 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:06:35.851 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.853 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.855 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:06:35.878 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.880 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:35.882 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:06:35.901 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 18:06:35.906 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 112.8357ms
2023-10-04 18:06:35.906 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:06:35.907 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6127 application/json;charset=UTF-8 351.5081ms
2023-10-04 18:06:35.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 18:06:35.936 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:06:35.937 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 18:06:35.942 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 18:06:35.945 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 18:06:35.959 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 18:06:35.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 29.0966ms
2023-10-04 18:06:35.993 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 18:06:35.993 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:06:35.995 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 2.3121ms
2023-10-04 18:06:35.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 18:06:35.997 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:06:35.998 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 18:06:36.001 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 18:06:36.020 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:36.029 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:06:36.032 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 18:06:36.041 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:06:36.043 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 18:06:36.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:06:36.050 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:06:36.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 18:06:36.063 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 18.5113ms
2023-10-04 18:06:36.063 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:06:36.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 67.1870ms
2023-10-04 18:09:24.401 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 18:09:24.608 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 18:09:24.609 +03:00 [INF] Quartz Scheduler created
2023-10-04 18:09:24.612 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 18:09:24.612 +03:00 [INF] RAMJobStore initialized.
2023-10-04 18:09:24.613 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 18:09:24.613 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 18:09:24.614 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 18:09:24.622 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 18:09:24.623 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 18:09:25.941 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 18:09:26.011 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 18:09:26.418 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:09:26.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:09:26.522 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:09:27.004 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 18:09:27.005 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 18:09:27.005 +03:00 [INF] Hosting environment: Development
2023-10-04 18:09:27.006 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 18:09:27.009 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 18:09:27.667 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 18:09:27.833 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:09:27.842 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 18:09:30.491 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 18:09:31.660 +03:00 [INF] Executed ViewResult - view Index executed in 3808.9047ms.
2023-10-04 18:09:31.667 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3824.3268ms
2023-10-04 18:09:31.669 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:09:31.711 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4045.1009ms
2023-10-04 18:09:32.062 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:09:32.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:09:32.076 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 13.8936ms
2023-10-04 18:09:32.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.0789ms
2023-10-04 18:10:00.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 18:10:00.087 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:10:00.091 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 18:10:00.098 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 18:10:00.100 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 18:10:00.116 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 18:10:00.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 41.4792ms
2023-10-04 18:10:00.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20dataAIIR%20roles%20email%20offline_access&nonce=99d758f5136c1e0e43df226f1a0c3592c09KLmeVW&state=f3d09e09f8f2759499b098f42582dd55925ifyzHm&code_challenge=bSqR8mX39Rycx4EIrIW0VguiqHnOyDyNdfclCOvduxc&code_challenge_method=S256 - -
2023-10-04 18:10:00.143 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:10:00.154 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile dataAIIR roles email offline_access",
  "nonce": "99d758f5136c1e0e43df226f1a0c3592c09KLmeVW",
  "state": "f3d09e09f8f2759499b098f42582dd55925ifyzHm",
  "code_challenge": "bSqR8mX39Rycx4EIrIW0VguiqHnOyDyNdfclCOvduxc",
  "code_challenge_method": "S256"
}.
2023-10-04 18:10:00.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:10:00.205 +03:00 [INF] The authorization request was rejected because the application 'aiirui' was not allowed to use the 'dataAIIR' scope.
2023-10-04 18:10:00.219 +03:00 [INF] The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "This client application is not allowed to use the specified scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2051"
}.
2023-10-04 18:10:00.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20dataAIIR%20roles%20email%20offline_access&nonce=99d758f5136c1e0e43df226f1a0c3592c09KLmeVW&state=f3d09e09f8f2759499b098f42582dd55925ifyzHm&code_challenge=bSqR8mX39Rycx4EIrIW0VguiqHnOyDyNdfclCOvduxc&code_challenge_method=S256 - - - 400 171 text/plain;charset=UTF-8 95.2497ms
2023-10-04 18:10:05.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 18:10:05.710 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:10:05.713 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:10:05.820 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:10:05.837 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:10:05.847 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:10:05.851 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:10:06.197 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 18:10:06.218 +03:00 [INF] Executed ViewResult - view Logout executed in 356.4579ms.
2023-10-04 18:10:06.219 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 366.1464ms
2023-10-04 18:10:06.222 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:10:06.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 518.7855ms
2023-10-04 18:10:06.684 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:10:06.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 4.5570ms
2023-10-04 18:10:06.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:10:06.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.7503ms
2023-10-04 18:10:06.751 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2023-10-04 18:10:06.759 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2023-10-04 18:10:06.760 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 304 - text/plain 9.7559ms
2023-10-04 18:10:06.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2023-10-04 18:10:06.782 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2023-10-04 18:10:06.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 304 - text/plain 2.0026ms
2023-10-04 18:10:07.735 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 293
2023-10-04 18:10:07.739 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:10:07.740 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:10:07.740 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:10:07.748 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmNLSq_ayn73za0CHCzOghzE1nBictKnStokgUjBo6VhJ5f0qI2emclTXzADlOcAkrrs6Mfy9HPvyef9yUtUuB3Q3vKtWMwbMce8gh9dL4a29vCwWGa8zj6ib9qw0oEx3sIsjmFS2ziiTK1cYOBUkeR_SYinct8O9AR2xLW5__YK3w"
}.
2023-10-04 18:10:07.752 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:10:07.756 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:10:07.769 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:10:07.774 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:10:07.788 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 18:10:07.790 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:10:07.790 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 18:10:07.793 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 18:10:07.809 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 18:10:07.814 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 38.6462ms
2023-10-04 18:10:07.814 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:10:07.815 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 293 - 302 0 - 79.7072ms
2023-10-04 18:10:11.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20dataAIIR%20roles%20email%20offline_access&nonce=cb99846f76e02af8652f6e453725a03367HfPRrQd&state=f3d09e09f8f2759499b098f42582dd55925ifyzHm&code_challenge=4RTTTa318SoNFqqP9sQStW1qdQJb02GkLEhucqunrsU&code_challenge_method=S256 - -
2023-10-04 18:10:11.038 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:10:11.038 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile dataAIIR roles email offline_access",
  "nonce": "cb99846f76e02af8652f6e453725a03367HfPRrQd",
  "state": "f3d09e09f8f2759499b098f42582dd55925ifyzHm",
  "code_challenge": "4RTTTa318SoNFqqP9sQStW1qdQJb02GkLEhucqunrsU",
  "code_challenge_method": "S256"
}.
2023-10-04 18:10:11.043 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:10:11.050 +03:00 [INF] The authorization request was rejected because the application 'aiirui' was not allowed to use the 'dataAIIR' scope.
2023-10-04 18:10:11.054 +03:00 [INF] The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "This client application is not allowed to use the specified scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2051"
}.
2023-10-04 18:10:11.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20dataAIIR%20roles%20email%20offline_access&nonce=cb99846f76e02af8652f6e453725a03367HfPRrQd&state=f3d09e09f8f2759499b098f42582dd55925ifyzHm&code_challenge=4RTTTa318SoNFqqP9sQStW1qdQJb02GkLEhucqunrsU&code_challenge_method=S256 - - - 400 171 text/plain;charset=UTF-8 19.5953ms
2023-10-04 18:17:02.857 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 18:17:02.990 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 18:17:02.991 +03:00 [INF] Quartz Scheduler created
2023-10-04 18:17:02.991 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 18:17:02.992 +03:00 [INF] RAMJobStore initialized.
2023-10-04 18:17:02.992 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 18:17:02.993 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 18:17:02.993 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 18:17:03.001 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 18:17:03.003 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 18:17:05.663 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 18:17:05.726 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 18:17:06.038 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:17:06.132 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:17:06.156 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:17:06.732 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 18:17:06.733 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 18:17:06.733 +03:00 [INF] Hosting environment: Development
2023-10-04 18:17:06.733 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 18:17:06.737 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 18:17:07.251 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 18:17:07.399 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:17:07.408 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 18:17:09.983 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 18:17:11.125 +03:00 [INF] Executed ViewResult - view Index executed in 3707.9962ms.
2023-10-04 18:17:11.130 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 3720.848ms
2023-10-04 18:17:11.131 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:17:11.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 3911.0986ms
2023-10-04 18:17:11.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:17:11.477 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:17:11.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 22.7489ms
2023-10-04 18:17:11.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.7946ms
2023-10-04 18:17:25.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 18:17:25.693 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:17:25.698 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 18:17:25.706 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 18:17:25.707 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 18:17:25.723 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 18:17:25.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 38.0654ms
2023-10-04 18:17:25.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=6d92983dbbb00b118f0036b504a203bf9ceSf8ASU&state=502e41ef8c829e2006c9108c3cf7c287081P7Iz2L&code_challenge=KUUbYVINaqNv1enqs3w5rWZHJjzK1GBjl8eyLbi1LuE&code_challenge_method=S256 - -
2023-10-04 18:17:25.749 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:17:25.759 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "6d92983dbbb00b118f0036b504a203bf9ceSf8ASU",
  "state": "502e41ef8c829e2006c9108c3cf7c287081P7Iz2L",
  "code_challenge": "KUUbYVINaqNv1enqs3w5rWZHJjzK1GBjl8eyLbi1LuE",
  "code_challenge_method": "S256"
}.
2023-10-04 18:17:25.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:17:25.809 +03:00 [INF] The authorization request was rejected because the application 'aiirui' was not allowed to use the 'dataAIIR' scope.
2023-10-04 18:17:25.827 +03:00 [INF] The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "This client application is not allowed to use the specified scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2051"
}.
2023-10-04 18:17:25.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=6d92983dbbb00b118f0036b504a203bf9ceSf8ASU&state=502e41ef8c829e2006c9108c3cf7c287081P7Iz2L&code_challenge=KUUbYVINaqNv1enqs3w5rWZHJjzK1GBjl8eyLbi1LuE&code_challenge_method=S256 - - - 400 171 text/plain;charset=UTF-8 92.4485ms
2023-10-04 18:19:03.110 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] NOT IN (N'inactive', N'valid') OR ([o].[Status] IS NULL) OR (([o0].[Id] IS NOT NULL) AND ([o0].[Status] <> N'valid' OR ([o0].[Status] IS NULL))) OR [o].[ExpirationDate] < GETUTCDATE())
ORDER BY [o].[Id]
2023-10-04 18:19:03.205 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] <> N'valid' OR ([o].[Status] IS NULL) OR ([o].[Type] = N'ad-hoc' AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id]
2023-10-04 18:32:35.845 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 18:32:35.965 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 18:32:35.965 +03:00 [INF] Quartz Scheduler created
2023-10-04 18:32:35.966 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 18:32:35.966 +03:00 [INF] RAMJobStore initialized.
2023-10-04 18:32:35.967 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 18:32:35.967 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 18:32:35.968 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 18:32:35.976 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 18:32:35.977 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 18:32:37.847 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 18:32:37.920 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 18:32:38.181 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:32:38.267 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:32:38.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:32:38.404 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:32:38.434 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:32:38.935 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 18:32:38.936 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 18:32:38.937 +03:00 [INF] Hosting environment: Development
2023-10-04 18:32:38.937 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 18:32:38.940 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 18:32:40.634 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 18:32:40.892 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:32:40.916 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 18:32:45.581 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 18:32:47.236 +03:00 [INF] Executed ViewResult - view Index executed in 6301.8448ms.
2023-10-04 18:32:47.243 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 6320.3037ms
2023-10-04 18:32:47.244 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:32:47.288 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 6659.0131ms
2023-10-04 18:32:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 18:32:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 18:32:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 18:32:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 18:32:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 18:32:47.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:32:47.647 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:32:47.657 +03:00 [INF] The file /css/site.css was not modified
2023-10-04 18:32:47.657 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-10-04 18:32:47.657 +03:00 [INF] The file /js/site.js was not modified
2023-10-04 18:32:47.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - text/javascript 18.4795ms
2023-10-04 18:32:47.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - text/javascript 18.3273ms
2023-10-04 18:32:47.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 304 - text/css 18.5082ms
2023-10-04 18:32:47.659 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-10-04 18:32:47.659 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-10-04 18:32:47.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 20.7858ms
2023-10-04 18:32:47.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 304 - text/javascript 23.7737ms
2023-10-04 18:32:47.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 29.4279ms
2023-10-04 18:32:47.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.2035ms
2023-10-04 18:32:53.565 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 18:32:53.568 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:32:53.572 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 18:32:53.579 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 18:32:53.580 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 18:32:53.596 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 18:32:53.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 36.6239ms
2023-10-04 18:32:53.622 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=91c0dc8b645af59609c54c196c45c8eb71vaE0UmB&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=PU2ltiPE7SNqcfAKGIttvXUtIt6rHO9bXNIvFV8MMsc&code_challenge_method=S256 - -
2023-10-04 18:32:53.630 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:32:53.641 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "91c0dc8b645af59609c54c196c45c8eb71vaE0UmB",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "code_challenge": "PU2ltiPE7SNqcfAKGIttvXUtIt6rHO9bXNIvFV8MMsc",
  "code_challenge_method": "S256"
}.
2023-10-04 18:32:53.669 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:32:53.691 +03:00 [INF] The authorization request was rejected because the application 'aiirui' was not allowed to use the 'dataAIIR' scope.
2023-10-04 18:32:53.707 +03:00 [INF] The response was successfully returned as a plain-text document: {
  "error": "invalid_request",
  "error_description": "This client application is not allowed to use the specified scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2051"
}.
2023-10-04 18:32:53.713 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=91c0dc8b645af59609c54c196c45c8eb71vaE0UmB&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=PU2ltiPE7SNqcfAKGIttvXUtIt6rHO9bXNIvFV8MMsc&code_challenge_method=S256 - - - 400 171 text/plain;charset=UTF-8 91.1853ms
2023-10-04 18:33:14.590 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=50214dc68f1cc1f270398fe4fbf26280ccvYg9XAd&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=LMJUrtDb1nUjJRXLHv34CLh8jd_DgPRAJp1YuszLqTc&code_challenge_method=S256 - -
2023-10-04 18:33:14.595 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:33:14.596 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email offline_access",
  "nonce": "50214dc68f1cc1f270398fe4fbf26280ccvYg9XAd",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "code_challenge": "LMJUrtDb1nUjJRXLHv34CLh8jd_DgPRAJp1YuszLqTc",
  "code_challenge_method": "S256"
}.
2023-10-04 18:33:14.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:33:14.664 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:33:14.697 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:33:14.702 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:33:14.719 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 18:33:14.723 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 18:33:14.724 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 20.9658ms
2023-10-04 18:33:14.725 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:33:14.726 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20offline_access&nonce=50214dc68f1cc1f270398fe4fbf26280ccvYg9XAd&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=LMJUrtDb1nUjJRXLHv34CLh8jd_DgPRAJp1YuszLqTc&code_challenge_method=S256 - - - 302 0 - 135.6429ms
2023-10-04 18:33:14.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D50214dc68f1cc1f270398fe4fbf26280ccvYg9XAd%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DLMJUrtDb1nUjJRXLHv34CLh8jd_DgPRAJp1YuszLqTc%26code_challenge_method%3DS256 - -
2023-10-04 18:33:14.753 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 18:33:14.779 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 18:33:14.816 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 18:33:14.824 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:33:14.825 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 18:33:14.828 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 18:33:14.829 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 18:33:14.913 +03:00 [INF] Executed page /Account/Login in 132.3256ms
2023-10-04 18:33:14.913 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 18:33:14.924 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520offline_access%26nonce%3D50214dc68f1cc1f270398fe4fbf26280ccvYg9XAd%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DLMJUrtDb1nUjJRXLHv34CLh8jd_DgPRAJp1YuszLqTc%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 194.0254ms
2023-10-04 18:33:15.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:33:15.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:33:15.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 9.0350ms
2023-10-04 18:33:15.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.4797ms
2023-10-04 18:35:50.735 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 18:35:50.852 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 18:35:50.853 +03:00 [INF] Quartz Scheduler created
2023-10-04 18:35:50.853 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 18:35:50.854 +03:00 [INF] RAMJobStore initialized.
2023-10-04 18:35:50.854 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 18:35:50.855 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 18:35:50.855 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 18:35:50.863 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 18:35:50.864 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 18:35:51.966 +03:00 [INF] Executed DbCommand (142ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [aiir-openiddict-server];
2023-10-04 18:35:52.017 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [aiir-openiddict-server] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-10-04 18:35:52.043 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 18:35:52.130 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2023-10-04 18:35:52.133 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2023-10-04 18:35:52.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictApplications] (
    [Id] nvarchar(450) NOT NULL,
    [ClientId] nvarchar(100) NULL,
    [ClientSecret] nvarchar(max) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [ConsentType] nvarchar(50) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Permissions] nvarchar(max) NULL,
    [PostLogoutRedirectUris] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedirectUris] nvarchar(max) NULL,
    [Requirements] nvarchar(max) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictApplications] PRIMARY KEY ([Id])
);
2023-10-04 18:35:52.140 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictScopes] (
    [Id] nvarchar(450) NOT NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [Description] nvarchar(max) NULL,
    [Descriptions] nvarchar(max) NULL,
    [DisplayName] nvarchar(max) NULL,
    [DisplayNames] nvarchar(max) NULL,
    [Name] nvarchar(200) NULL,
    [Properties] nvarchar(max) NULL,
    [Resources] nvarchar(max) NULL,
    CONSTRAINT [PK_OpenIddictScopes] PRIMARY KEY ([Id])
);
2023-10-04 18:35:52.143 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2023-10-04 18:35:52.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 18:35:52.148 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 18:35:52.151 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 18:35:52.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2023-10-04 18:35:52.157 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictAuthorizations] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [Properties] nvarchar(max) NULL,
    [Scopes] nvarchar(max) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictAuthorizations] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictAuthorizations_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id])
);
2023-10-04 18:35:52.160 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [OpenIddictTokens] (
    [Id] nvarchar(450) NOT NULL,
    [ApplicationId] nvarchar(450) NULL,
    [AuthorizationId] nvarchar(450) NULL,
    [ConcurrencyToken] nvarchar(50) NULL,
    [CreationDate] datetime2 NULL,
    [ExpirationDate] datetime2 NULL,
    [Payload] nvarchar(max) NULL,
    [Properties] nvarchar(max) NULL,
    [RedemptionDate] datetime2 NULL,
    [ReferenceId] nvarchar(100) NULL,
    [Status] nvarchar(50) NULL,
    [Subject] nvarchar(400) NULL,
    [Type] nvarchar(50) NULL,
    CONSTRAINT [PK_OpenIddictTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictApplications_ApplicationId] FOREIGN KEY ([ApplicationId]) REFERENCES [OpenIddictApplications] ([Id]),
    CONSTRAINT [FK_OpenIddictTokens_OpenIddictAuthorizations_AuthorizationId] FOREIGN KEY ([AuthorizationId]) REFERENCES [OpenIddictAuthorizations] ([Id])
);
2023-10-04 18:35:52.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2023-10-04 18:35:52.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2023-10-04 18:35:52.165 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2023-10-04 18:35:52.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2023-10-04 18:35:52.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2023-10-04 18:35:52.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2023-10-04 18:35:52.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2023-10-04 18:35:52.171 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictApplications_ClientId] ON [OpenIddictApplications] ([ClientId]) WHERE [ClientId] IS NOT NULL;
2023-10-04 18:35:52.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictAuthorizations_ApplicationId_Status_Subject_Type] ON [OpenIddictAuthorizations] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-04 18:35:52.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictScopes_Name] ON [OpenIddictScopes] ([Name]) WHERE [Name] IS NOT NULL;
2023-10-04 18:35:52.176 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_ApplicationId_Status_Subject_Type] ON [OpenIddictTokens] ([ApplicationId], [Status], [Subject], [Type]);
2023-10-04 18:35:52.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_OpenIddictTokens_AuthorizationId] ON [OpenIddictTokens] ([AuthorizationId]);
2023-10-04 18:35:52.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_OpenIddictTokens_ReferenceId] ON [OpenIddictTokens] ([ReferenceId]) WHERE [ReferenceId] IS NOT NULL;
2023-10-04 18:35:52.441 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:35:52.495 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:35:52.642 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:35:52.663 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:35:52.679 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:35:52.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 100), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictApplications] ([Id], [ClientId], [ClientSecret], [ConcurrencyToken], [ConsentType], [DisplayName], [DisplayNames], [Permissions], [PostLogoutRedirectUris], [Properties], [RedirectUris], [Requirements], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:35:52.704 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:35:52.721 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 18:35:52.746 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 200), @p7='?' (Size = 4000), @p8='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictScopes] ([Id], [ConcurrencyToken], [Description], [Descriptions], [DisplayName], [DisplayNames], [Name], [Properties], [Resources])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 18:35:53.208 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 18:35:53.210 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 18:35:53.210 +03:00 [INF] Hosting environment: Development
2023-10-04 18:35:53.211 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 18:35:53.215 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 18:35:54.205 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 18:35:54.458 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:35:54.474 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 18:35:57.496 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 18:35:58.597 +03:00 [INF] Executed ViewResult - view Index executed in 4106.4407ms.
2023-10-04 18:35:58.603 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 4125.6204ms
2023-10-04 18:35:58.604 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 18:35:58.637 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 4435.3865ms
2023-10-04 18:35:58.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:35:58.976 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:35:58.988 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 17.1700ms
2023-10-04 18:35:59.023 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.3345ms
2023-10-04 18:36:50.231 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 18:36:50.246 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:36:50.279 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:36:50.356 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:36:50.384 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:36:50.390 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:36:50.392 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:36:50.621 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 18:36:50.647 +03:00 [INF] Executed ViewResult - view Logout executed in 246.2707ms.
2023-10-04 18:36:50.648 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 255.0369ms
2023-10-04 18:36:50.648 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:36:50.652 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 421.4237ms
2023-10-04 18:36:50.973 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] NOT IN (N'inactive', N'valid') OR ([o].[Status] IS NULL) OR (([o0].[Id] IS NOT NULL) AND ([o0].[Status] <> N'valid' OR ([o0].[Status] IS NULL))) OR [o].[ExpirationDate] < GETUTCDATE())
ORDER BY [o].[Id]
2023-10-04 18:36:51.056 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] <> N'valid' OR ([o].[Status] IS NULL) OR ([o].[Type] = N'ad-hoc' AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id]
2023-10-04 18:36:51.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:36:51.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 6.9081ms
2023-10-04 18:36:51.075 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:36:51.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.4061ms
2023-10-04 18:36:52.097 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 250
2023-10-04 18:36:52.102 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:36:52.102 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:36:52.108 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:36:52.116 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmMw1NHFf_PECCWJ0CZs-qJDVx82B_NFaoxsnhxicu49JFFxI8niUUjVHndIejIJHXUzVuX5VZjHE_vPZ20O-SI1QJ3LZgWfJm8p4AEu8xqk3OxCxP6Vzmc6YyTsfQ2sZfU"
}.
2023-10-04 18:36:52.121 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:36:52.126 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:36:52.130 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:36:52.135 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:36:52.163 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 18:36:52.165 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:36:52.166 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 18:36:52.168 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 18:36:52.184 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 18:36:52.210 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 74.3054ms
2023-10-04 18:36:52.211 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:36:52.212 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 250 - 302 0 - 115.4599ms
2023-10-04 18:36:53.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=8329a11d6972ee7198412692e85bd6610b4b6JNjK&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=Mg8yGCHMuW21QPEovMfZQ8mMIoqmGh8vhZwLfgKuqUI&code_challenge_method=S256 - -
2023-10-04 18:36:53.892 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:36:53.896 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "8329a11d6972ee7198412692e85bd6610b4b6JNjK",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "code_challenge": "Mg8yGCHMuW21QPEovMfZQ8mMIoqmGh8vhZwLfgKuqUI",
  "code_challenge_method": "S256"
}.
2023-10-04 18:36:53.909 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:36:53.926 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:36:53.929 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:36:53.932 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:36:53.940 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 18:36:53.943 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 18:36:53.943 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 9.8432ms
2023-10-04 18:36:53.944 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:36:53.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=8329a11d6972ee7198412692e85bd6610b4b6JNjK&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=Mg8yGCHMuW21QPEovMfZQ8mMIoqmGh8vhZwLfgKuqUI&code_challenge_method=S256 - - - 302 0 - 54.5427ms
2023-10-04 18:36:53.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D8329a11d6972ee7198412692e85bd6610b4b6JNjK%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DMg8yGCHMuW21QPEovMfZQ8mMIoqmGh8vhZwLfgKuqUI%26code_challenge_method%3DS256 - -
2023-10-04 18:36:53.966 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 18:36:53.989 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 18:36:54.015 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 18:36:54.018 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:36:54.019 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 18:36:54.022 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 18:36:54.023 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 18:36:54.098 +03:00 [INF] Executed page /Account/Login in 107.7651ms
2023-10-04 18:36:54.098 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 18:36:54.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D8329a11d6972ee7198412692e85bd6610b4b6JNjK%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DMg8yGCHMuW21QPEovMfZQ8mMIoqmGh8vhZwLfgKuqUI%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 155.7571ms
2023-10-04 18:36:54.502 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:36:54.503 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.6943ms
2023-10-04 18:36:54.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:36:54.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.9624ms
2023-10-04 18:37:01.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=1b7a9891a6ab7e9f92381e2ba28af72783HV22d74&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ&code_challenge_method=S256 - -
2023-10-04 18:37:01.447 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:37:01.448 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "1b7a9891a6ab7e9f92381e2ba28af72783HV22d74",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "code_challenge": "QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ",
  "code_challenge_method": "S256"
}.
2023-10-04 18:37:01.453 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:37:01.456 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:37:01.457 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:37:01.457 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:37:01.459 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 18:37:01.459 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 18:37:01.459 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 1.2305ms
2023-10-04 18:37:01.460 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:37:01.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=1b7a9891a6ab7e9f92381e2ba28af72783HV22d74&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ&code_challenge_method=S256 - - - 302 0 - 15.0048ms
2023-10-04 18:37:01.465 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256 - -
2023-10-04 18:37:01.471 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 18:37:01.472 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 18:37:01.474 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 18:37:01.475 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:37:01.475 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 18:37:01.475 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 18:37:01.476 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 18:37:01.482 +03:00 [INF] Executed page /Account/Login in 9.9023ms
2023-10-04 18:37:01.483 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 18:37:01.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 22.5906ms
2023-10-04 18:37:01.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:37:01.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:37:01.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 4.1037ms
2023-10-04 18:37:02.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.4599ms
2023-10-04 18:37:02.926 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 18:37:02.928 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:37:02.929 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:37:02.933 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:37:02.942 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:37:02.961 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 18:37:02.963 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 18:37:02.963 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 18:37:02.969 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 18:37:02.969 +03:00 [INF] Executed page /Account/ExternalLogin in 26.8321ms
2023-10-04 18:37:02.970 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:37:02.970 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 44.6822ms
2023-10-04 18:37:05.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmNpg3kWdksWUGhkcZKNmVcnoeIc-JsMgP5-HG-ktuEo8JUUlXqU5HimoaCRca22jOBvmNcA7TK--klfvh9ou20mx1P-HX81OjYH11MwYbHu5G6FHN9OU2F9lDd0NHE5567Qbh9VvUjVsq1VZl86r2F_PeToj2J_9toPHvNdAi1noKO1C2m8hC-rKZcJPiiEsOJD_1bNs3KzoVYu6hfpZFvVctleKyEyf-uK7dOlNBl9tp-o4f0GpkIPSU-Ae974qV3z0uxJb2s7rwIcSSZWFldCkYJlH9ftaQyYPI0DFiT1DGW4dm7ue6yiQjB5jIk-xQQBJ5kicv-hvWk9reV0fcBDrsZprGie95GVYZsaISiR-B3FchiLJrjfK3OxIEeSbygcv0eZ8e6atSuEP5MM2NYTbAHQeC16dcjhB2oOJwqfjNq2RreOAwbbXbRikHc8nJL8iS5dO8HzHNzJnPrUaxfvp_u8pAHjiC3U-xCoxQWbJGndLJ5ALLpRGeCkhxcQu8gRmm5mZdBMgsanmmwOm-ytFqj8lYowrwXWYpLhPpHvLscplnHAZyFzeilmnesdAOXfATM0G5IRcRw-I1LYjc6hSlLnKGVRl6DrF6BbJ7qdt5v3cfhH4T8N7NygvTrpZQJzGzl5H6Am4dad62Os_sFhMjyOWZph0Jcyo4OqjuFmO0dVSdWkDYKxk-SQV3eAnJwEbOVtwk0zvDEi2pSq055M2wCver4aaZvHPD3n4BNB41UuI5qTQ6ofxOF7aTIAnO58T0rX-RcLNxgS68FG11c_e8HnE55mpN9sj5hsUS6M8jSFAB8I06aqVeMRspZ_FfY&code=4%2F0AfJohXm9HP18IB6YmvSxiSp3-0qnzeGVzDqVpDc9P1Fb9NeWrrkhdgy51H1fpeBTQNS1Hw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 18:37:06.396 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 18:37:06.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmNpg3kWdksWUGhkcZKNmVcnoeIc-JsMgP5-HG-ktuEo8JUUlXqU5HimoaCRca22jOBvmNcA7TK--klfvh9ou20mx1P-HX81OjYH11MwYbHu5G6FHN9OU2F9lDd0NHE5567Qbh9VvUjVsq1VZl86r2F_PeToj2J_9toPHvNdAi1noKO1C2m8hC-rKZcJPiiEsOJD_1bNs3KzoVYu6hfpZFvVctleKyEyf-uK7dOlNBl9tp-o4f0GpkIPSU-Ae974qV3z0uxJb2s7rwIcSSZWFldCkYJlH9ftaQyYPI0DFiT1DGW4dm7ue6yiQjB5jIk-xQQBJ5kicv-hvWk9reV0fcBDrsZprGie95GVYZsaISiR-B3FchiLJrjfK3OxIEeSbygcv0eZ8e6atSuEP5MM2NYTbAHQeC16dcjhB2oOJwqfjNq2RreOAwbbXbRikHc8nJL8iS5dO8HzHNzJnPrUaxfvp_u8pAHjiC3U-xCoxQWbJGndLJ5ALLpRGeCkhxcQu8gRmm5mZdBMgsanmmwOm-ytFqj8lYowrwXWYpLhPpHvLscplnHAZyFzeilmnesdAOXfATM0G5IRcRw-I1LYjc6hSlLnKGVRl6DrF6BbJ7qdt5v3cfhH4T8N7NygvTrpZQJzGzl5H6Am4dad62Os_sFhMjyOWZph0Jcyo4OqjuFmO0dVSdWkDYKxk-SQV3eAnJwEbOVtwk0zvDEi2pSq055M2wCver4aaZvHPD3n4BNB41UuI5qTQ6ofxOF7aTIAnO58T0rX-RcLNxgS68FG11c_e8HnE55mpN9sj5hsUS6M8jSFAB8I06aqVeMRspZ_FfY&code=4%2F0AfJohXm9HP18IB6YmvSxiSp3-0qnzeGVzDqVpDc9P1Fb9NeWrrkhdgy51H1fpeBTQNS1Hw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 461.3738ms
2023-10-04 18:37:06.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 18:37:06.406 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:37:06.406 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:37:06.408 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 18:37:06.427 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 18:37:06.434 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 18:37:06.452 +03:00 [INF] Executed page /Account/ExternalLogin in 44.8621ms
2023-10-04 18:37:06.452 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:37:06.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256&handler=Callback - - - 200 - text/html;+charset=utf-8 53.9865ms
2023-10-04 18:37:06.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:37:06.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 2.4192ms
2023-10-04 18:37:06.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:37:06.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5571ms
2023-10-04 18:37:08.470 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256&handler=Confirmation application/x-www-form-urlencoded 216
2023-10-04 18:37:08.471 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:37:08.472 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:37:08.473 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:37:08.473 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:37:08.475 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPostConfirmationAsync - ModelState is "Valid"
2023-10-04 18:37:08.497 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 18:37:08.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-10-04 18:37:08.561 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 18:37:08.580 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-10-04 18:37:08.608 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 4000), @p3='?' (Size = 450), @p18='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p19='?' (Size = 4000), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserLogins] ([LoginProvider], [ProviderKey], [ProviderDisplayName], [UserId])
VALUES (@p0, @p1, @p2, @p3);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p4, [ConcurrencyStamp] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2023-10-04 18:37:08.616 +03:00 [INF] User created an account using Google provider.
2023-10-04 18:37:08.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:37:08.657 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:37:08.663 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 18:37:08.664 +03:00 [INF] Executed handler method OnPostConfirmationAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 18:37:08.666 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=1b7a9891a6ab7e9f92381e2ba28af72783HV22d74&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ&code_challenge_method=S256.
2023-10-04 18:37:08.667 +03:00 [INF] Executed page /Account/ExternalLogin in 193.0594ms
2023-10-04 18:37:08.667 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:37:08.668 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D1b7a9891a6ab7e9f92381e2ba28af72783HV22d74%26state%3D234a87c8ee67d25452ca7e895219180ff2t3YduQz%26code_challenge%3DQjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ%26code_challenge_method%3DS256&handler=Confirmation application/x-www-form-urlencoded 216 - 302 0 - 198.0277ms
2023-10-04 18:37:08.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=1b7a9891a6ab7e9f92381e2ba28af72783HV22d74&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ&code_challenge_method=S256 - -
2023-10-04 18:37:08.674 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:37:08.675 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "1b7a9891a6ab7e9f92381e2ba28af72783HV22d74",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "code_challenge": "QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ",
  "code_challenge_method": "S256"
}.
2023-10-04 18:37:08.679 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:37:08.684 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:37:08.686 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:37:08.687 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:37:08.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:37:08.728 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 18:37:08.872 +03:00 [INF] Executing ViewResult, running view Authorize.
2023-10-04 18:37:08.887 +03:00 [INF] Executed ViewResult - view Authorize executed in 150.3451ms.
2023-10-04 18:37:08.888 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 199.3638ms
2023-10-04 18:37:08.891 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:37:08.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=1b7a9891a6ab7e9f92381e2ba28af72783HV22d74&state=234a87c8ee67d25452ca7e895219180ff2t3YduQz&code_challenge=QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ&code_challenge_method=S256 - - - 200 - text/html;+charset=utf-8 223.1294ms
2023-10-04 18:37:09.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:37:09.318 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.9870ms
2023-10-04 18:37:09.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:37:09.364 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2023-10-04 18:37:09.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3701ms
2023-10-04 18:37:09.378 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2023-10-04 18:37:09.380 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 304 - text/plain 16.8030ms
2023-10-04 18:37:09.396 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2023-10-04 18:37:09.397 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2023-10-04 18:37:09.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 304 - text/plain 1.5475ms
2023-10-04 18:37:10.256 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 562
2023-10-04 18:37:10.258 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:37:10.258 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:37:10.269 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:37:10.269 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "1b7a9891a6ab7e9f92381e2ba28af72783HV22d74",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "code_challenge": "QjDqrc1p7PUM_mrpnm7UECDpYXRxNEC8Co7AzkC3YVQ",
  "code_challenge_method": "S256",
  "submit.Accept": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmOmu-BgbFw_4iXngvngVIok_Dc-P2tilnQ_VbK6KvJ527aYfDHF8HL7CRKHm9sBctEbRW3shipACxGkv9az8LXO70g32NRSk9z5Qm9OpOfLrw47LAeusJW1oV4fROJS8Z66ELiReXBDrSdN9FbhO9WTEJVnjf6PEtQhNKH_OoHxBg"
}.
2023-10-04 18:37:10.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:37:10.274 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:37:10.282 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 18:37:10.288 +03:00 [INF] Route matched with {action = "Accept", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Accept() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:37:10.296 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:37:10.300 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 18:37:10.305 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:37:10.306 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:37:10.343 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 18:37:10.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:10.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 50), @p7='?' (Size = 400), @p8='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictAuthorizations] ([Id], [ApplicationId], [ConcurrencyToken], [CreationDate], [Properties], [Scopes], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2023-10-04 18:37:10.428 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:37:10.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:10.470 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:10.518 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:37:10.718 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:10.721 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:10.748 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:37:10.760 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:37:10.775 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "234a87c8ee67d25452ca7e895219180ff2t3YduQz",
  "iss": "https://localhost:44395/"
}.
2023-10-04 18:37:10.780 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer) in 490.8286ms
2023-10-04 18:37:10.782 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Accept (OpeniddictServer)'
2023-10-04 18:37:10.783 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/authorize application/x-www-form-urlencoded 562 - 302 0 - 526.5564ms
2023-10-04 18:37:11.486 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 18:37:11.488 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:37:11.489 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 18:37:11.495 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "132396997652f2d9ea103d6c93f36b50659c3eaf5f1d42c703fa17ad7077b3SrDmU",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:37:11.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:37:11.562 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:37:11.686 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.700 +03:00 [INF] The token request was successfully validated.
2023-10-04 18:37:11.707 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:37:11.712 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:37:11.723 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:37:11.727 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:37:11.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:37:11.742 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:37:11.745 +03:00 [INF] The token 'ae6e275e-c39c-435b-9e33-499f7aebd88c' was successfully marked as redeemed.
2023-10-04 18:37:11.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.755 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.758 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:37:11.768 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:37:11.809 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.813 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:37:11.824 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 18:37:11.829 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 115.8717ms
2023-10-04 18:37:11.830 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:37:11.830 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 343.7623ms
2023-10-04 18:37:11.865 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 18:37:11.866 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:37:11.867 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 18:37:11.872 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 18:37:11.876 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 18:37:11.890 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 18:37:11.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 27.9891ms
2023-10-04 18:37:11.918 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 18:37:11.919 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:37:11.921 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 2.4608ms
2023-10-04 18:37:11.923 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 18:37:11.924 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:37:11.924 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 18:37:11.927 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 18:37:11.956 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.965 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:37:11.969 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 18:37:11.975 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:37:11.977 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 18:37:11.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:37:11.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:37:11.989 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 18:37:11.999 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 20.7367ms
2023-10-04 18:37:11.999 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:37:12.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 76.7297ms
2023-10-04 18:38:33.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiIxYjdhOTg5MWE2YWI3ZTlmOTIzODFlMmJhMjhhZjcyNzgzSFYyMmQ3NCIsImF0X2hhc2giOiJVNkxuQ2FGSDdYUFR6WTVJcXdfS3FRIiwib2lfdGtuX2lkIjoiMjllYTM1OTEtOWM1Ny00MGNmLTkzZDYtZTU1ZTkwNjVlNTMxIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM1MDMxLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MzM4MzF9.hWrrTMnTsmYluArfGitmDOdfX52aiOiVZNr1tkiSgF6uiYqO9kjYkuH6hvU1znUXJ-hdwmp_dc2fSg9hHUwvNZiHuS9OZm7chRDHsfkdWrmAXfP3xmSLPpfdNOfyIIRu08i8M_h-ZVTkCt6MF-3Dkx1Lhxj8OxbVAvW-xS4LQIm1tk8G7oiJVS_Oe5cTcRy76I_f8tNzm8M39FojAcUhYIdzlaw4LYWrO9iwSutbLQRKpxtd3Xo9RS8jrL5gOynJhehAeh0lsMLk5TIXBB9xIZqSF_xDqlbrtb8cYYkCKmsKzefh5xE8PajzKNgQgZwB0DexC8JkaXNQuNd8Xr2MyQ&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 18:38:33.097 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:38:33.099 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:38:33.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:38:33.113 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:33.118 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:33.123 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:38:33.125 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:38:33.125 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:38:33.126 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 18:38:33.130 +03:00 [INF] Executed ViewResult - view Logout executed in 4.2332ms.
2023-10-04 18:38:33.130 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 4.6548ms
2023-10-04 18:38:33.131 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:38:33.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiIxYjdhOTg5MWE2YWI3ZTlmOTIzODFlMmJhMjhhZjcyNzgzSFYyMmQ3NCIsImF0X2hhc2giOiJVNkxuQ2FGSDdYUFR6WTVJcXdfS3FRIiwib2lfdGtuX2lkIjoiMjllYTM1OTEtOWM1Ny00MGNmLTkzZDYtZTU1ZTkwNjVlNTMxIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM1MDMxLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MzM4MzF9.hWrrTMnTsmYluArfGitmDOdfX52aiOiVZNr1tkiSgF6uiYqO9kjYkuH6hvU1znUXJ-hdwmp_dc2fSg9hHUwvNZiHuS9OZm7chRDHsfkdWrmAXfP3xmSLPpfdNOfyIIRu08i8M_h-ZVTkCt6MF-3Dkx1Lhxj8OxbVAvW-xS4LQIm1tk8G7oiJVS_Oe5cTcRy76I_f8tNzm8M39FojAcUhYIdzlaw4LYWrO9iwSutbLQRKpxtd3Xo9RS8jrL5gOynJhehAeh0lsMLk5TIXBB9xIZqSF_xDqlbrtb8cYYkCKmsKzefh5xE8PajzKNgQgZwB0DexC8JkaXNQuNd8Xr2MyQ&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 41.1275ms
2023-10-04 18:38:33.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:38:33.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 1.3828ms
2023-10-04 18:38:33.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:38:33.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1705ms
2023-10-04 18:38:34.179 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322
2023-10-04 18:38:34.180 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:38:34.180 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:38:34.181 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:38:34.181 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmNmTj3tmp7KVjQ3U7AicUNKAj833BRnt764So1LkeTm4vU61SKbdY76eA943_x7-D5DKfVSeo3tlGdSC1AOO_IcM4hDcjZvIl8THOFQggcPWTkz8JALzBdShFHF739243bmp5Z1Ojzpj0yBySKQwP870eqZv_eLFDVQEDQ-iguU2g"
}.
2023-10-04 18:38:34.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:38:34.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:34.193 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:34.194 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:38:34.195 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:38:34.195 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:38:34.197 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 18:38:34.197 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:38:34.198 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 18:38:34.198 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 18:38:34.200 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 18:38:34.201 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 4.6801ms
2023-10-04 18:38:34.202 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:38:34.202 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322 - 302 0 - 23.6504ms
2023-10-04 18:38:36.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=934ff44e70be848b44fc16d0e196884bb0bmC4WjW&state=c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp&code_challenge=rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI&code_challenge_method=S256 - -
2023-10-04 18:38:36.961 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:38:36.962 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "934ff44e70be848b44fc16d0e196884bb0bmC4WjW",
  "state": "c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp",
  "code_challenge": "rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI",
  "code_challenge_method": "S256"
}.
2023-10-04 18:38:36.965 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:38:36.967 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:38:36.967 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:38:36.968 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:38:36.970 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 18:38:36.970 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 18:38:36.971 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 0.8643ms
2023-10-04 18:38:36.971 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:38:36.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=934ff44e70be848b44fc16d0e196884bb0bmC4WjW&state=c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp&code_challenge=rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI&code_challenge_method=S256 - - - 302 0 - 13.2511ms
2023-10-04 18:38:36.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D934ff44e70be848b44fc16d0e196884bb0bmC4WjW%26state%3Dc11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp%26code_challenge%3DrwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI%26code_challenge_method%3DS256 - -
2023-10-04 18:38:36.979 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 18:38:36.980 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 18:38:36.981 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 18:38:36.981 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:38:36.982 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 18:38:36.982 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 18:38:36.982 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 18:38:36.989 +03:00 [INF] Executed page /Account/Login in 8.9223ms
2023-10-04 18:38:36.989 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 18:38:36.999 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D934ff44e70be848b44fc16d0e196884bb0bmC4WjW%26state%3Dc11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp%26code_challenge%3DrwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 21.6485ms
2023-10-04 18:38:37.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:38:37.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:38:37.422 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 3.6697ms
2023-10-04 18:38:37.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.8786ms
2023-10-04 18:38:38.617 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D934ff44e70be848b44fc16d0e196884bb0bmC4WjW%26state%3Dc11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp%26code_challenge%3DrwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 18:38:38.619 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:38:38.619 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:38:38.620 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:38:38.620 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:38:38.621 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 18:38:38.622 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 18:38:38.622 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 18:38:38.623 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 18:38:38.624 +03:00 [INF] Executed page /Account/ExternalLogin in 3.9068ms
2023-10-04 18:38:38.625 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:38:38.626 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D934ff44e70be848b44fc16d0e196884bb0bmC4WjW%26state%3Dc11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp%26code_challenge%3DrwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 8.9067ms
2023-10-04 18:38:41.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmP0XOG0YmrC2iJhbZDtf7toOTDFToEKEZwdF2WTOnQ70wd_w5TC6_Wt4tszn7MyMm7kveyHptioWUlFBYq9pfEJmfeTHM834hkCCWCSZMb4fpEOzDfZHO-EEbBU9Lztcsn5lEz9tnLntkD69Ed7aeEAQhPj8Z_Wijwb_DNeZOd3ckA0ZFw9csFxq51U9srqejJiMW9pqjCO6uIIBSHKUNAaLxbua1L4LUz0qg_TPud1KAZMm7aJBLkC58lyxh_FpBP2KJ22s_0noDTfj2-QrOmf6aMdUKWdxi97olJgJx2EBMZkcGn4RZS8Fyu-kVatzIpyG5jtBA9uPSfR49387_09xAyOS-KNgqQKyZo0dA0XZeVLkekRwBWv6yEHgdHbCBnIrZfUxWUMHDSnFtjgj6N1gvy5gWYS2yndqOwEWqPR_b1Xu7vMq1goFQghpJJHPRJnsHYPu8WFCrzCYjIHFTC-KNq_wL-s_NeW1X514-Tte53pkCiF6jybSRcDDrf-_Md6FA2d9Ea2KfktlMjGZJwHzRAH9S1b3Zm96jz-i-GomedvzB7B0K31ltu6g-LZkmoqKqXfOZfPa007baO9vQj3OlybjKafuZaGiQzZaCRjxMKx8eYb7ZgWorpMRy6r86dnvlbayOjzzdxD_zzzVjBHT8u-ynx7hziuWZrD8AqBVmTHsRHmz6pjsJx5_qE1t-RjNf1IK10bZoj5qrQkQ-j6Ro0NMYdJpdIsUsP_s6dCneI9LZOWeAewlpD-mEQ6oXjp-z8qpCWR7EQU42Qy__HIOM1C6hic528ZcYmNPy188Ac5eo9Oo00eF163KqdUOac&code=4%2F0AfJohXlJa1kNck8wwDKH_6ZoaWzAF9z__HrmIRN--Sqg8plVB9L98Rf_7-GJFw6b5MXHmQ&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 18:38:41.574 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 18:38:41.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmP0XOG0YmrC2iJhbZDtf7toOTDFToEKEZwdF2WTOnQ70wd_w5TC6_Wt4tszn7MyMm7kveyHptioWUlFBYq9pfEJmfeTHM834hkCCWCSZMb4fpEOzDfZHO-EEbBU9Lztcsn5lEz9tnLntkD69Ed7aeEAQhPj8Z_Wijwb_DNeZOd3ckA0ZFw9csFxq51U9srqejJiMW9pqjCO6uIIBSHKUNAaLxbua1L4LUz0qg_TPud1KAZMm7aJBLkC58lyxh_FpBP2KJ22s_0noDTfj2-QrOmf6aMdUKWdxi97olJgJx2EBMZkcGn4RZS8Fyu-kVatzIpyG5jtBA9uPSfR49387_09xAyOS-KNgqQKyZo0dA0XZeVLkekRwBWv6yEHgdHbCBnIrZfUxWUMHDSnFtjgj6N1gvy5gWYS2yndqOwEWqPR_b1Xu7vMq1goFQghpJJHPRJnsHYPu8WFCrzCYjIHFTC-KNq_wL-s_NeW1X514-Tte53pkCiF6jybSRcDDrf-_Md6FA2d9Ea2KfktlMjGZJwHzRAH9S1b3Zm96jz-i-GomedvzB7B0K31ltu6g-LZkmoqKqXfOZfPa007baO9vQj3OlybjKafuZaGiQzZaCRjxMKx8eYb7ZgWorpMRy6r86dnvlbayOjzzdxD_zzzVjBHT8u-ynx7hziuWZrD8AqBVmTHsRHmz6pjsJx5_qE1t-RjNf1IK10bZoj5qrQkQ-j6Ro0NMYdJpdIsUsP_s6dCneI9LZOWeAewlpD-mEQ6oXjp-z8qpCWR7EQU42Qy__HIOM1C6hic528ZcYmNPy188Ac5eo9Oo00eF163KqdUOac&code=4%2F0AfJohXlJa1kNck8wwDKH_6ZoaWzAF9z__HrmIRN--Sqg8plVB9L98Rf_7-GJFw6b5MXHmQ&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 308.5250ms
2023-10-04 18:38:41.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D934ff44e70be848b44fc16d0e196884bb0bmC4WjW%26state%3Dc11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp%26code_challenge%3DrwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 18:38:41.582 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:38:41.582 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:38:41.583 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 18:38:41.586 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 18:38:41.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2023-10-04 18:38:41.600 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:38:41.602 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:38:41.605 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:38:41.606 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 18:38:41.608 +03:00 [INF] User logged in with Google provider.
2023-10-04 18:38:41.608 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 18:38:41.609 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=934ff44e70be848b44fc16d0e196884bb0bmC4WjW&state=c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp&code_challenge=rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI&code_challenge_method=S256.
2023-10-04 18:38:41.610 +03:00 [INF] Executed page /Account/ExternalLogin in 26.7274ms
2023-10-04 18:38:41.610 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:38:41.611 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D934ff44e70be848b44fc16d0e196884bb0bmC4WjW%26state%3Dc11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp%26code_challenge%3DrwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI%26code_challenge_method%3DS256&handler=Callback - - - 302 0 - 30.6086ms
2023-10-04 18:38:41.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=934ff44e70be848b44fc16d0e196884bb0bmC4WjW&state=c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp&code_challenge=rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI&code_challenge_method=S256 - -
2023-10-04 18:38:41.616 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:38:41.616 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "934ff44e70be848b44fc16d0e196884bb0bmC4WjW",
  "state": "c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp",
  "code_challenge": "rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI",
  "code_challenge_method": "S256"
}.
2023-10-04 18:38:41.618 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:38:41.619 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:38:41.620 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:38:41.620 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:38:41.623 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:38:41.630 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 18:38:41.635 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:38:41.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:38:41.641 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 18:38:41.642 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:38:41.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:41.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:41.652 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:38:41.656 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:41.658 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:41.663 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:38:41.669 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:38:41.671 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp",
  "iss": "https://localhost:44395/"
}.
2023-10-04 18:38:41.672 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 51.5817ms
2023-10-04 18:38:41.674 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:38:41.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=934ff44e70be848b44fc16d0e196884bb0bmC4WjW&state=c11a8cd2ee694fef9cd70a8cd4ad3593413Az3Hdp&code_challenge=rwM9ewsdQ4CUs9CACp6UUliSJd2CZZIoWB4J_NrAiWI&code_challenge_method=S256 - - - 302 0 - 59.4889ms
2023-10-04 18:38:42.354 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 18:38:42.354 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:38:42.355 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 18:38:42.358 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "bd437e5106bf0d177a5700e7a6994e914c98fde5874c883da50377bf3ba2bj7ExKV",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:38:42.367 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:38:42.383 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:38:42.393 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.396 +03:00 [INF] The token request was successfully validated.
2023-10-04 18:38:42.398 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:38:42.398 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:38:42.404 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:38:42.405 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:38:42.416 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:38:42.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:38:42.421 +03:00 [INF] The token '5743b637-32d5-4ecf-939e-fe73d1c149b1' was successfully marked as redeemed.
2023-10-04 18:38:42.424 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.426 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.428 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:38:42.432 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.434 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.436 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:38:42.442 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.444 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.481 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:38:42.508 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 18:38:42.509 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 109.4128ms
2023-10-04 18:38:42.511 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:38:42.522 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 168.5668ms
2023-10-04 18:38:42.618 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 18:38:42.618 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:38:42.619 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 18:38:42.620 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 18:38:42.621 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 18:38:42.623 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 18:38:42.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 43.7092ms
2023-10-04 18:38:42.701 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 18:38:42.702 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:38:42.703 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 1.7889ms
2023-10-04 18:38:42.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 18:38:42.705 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:38:42.706 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 18:38:42.706 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 18:38:42.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:38:42.715 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 18:38:42.717 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:38:42.718 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 18:38:42.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:38:42.722 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:38:42.724 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 18:38:42.725 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 5.9409ms
2023-10-04 18:38:42.725 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:38:42.726 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 20.8297ms
2023-10-04 18:39:22.306 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiI5MzRmZjQ0ZTcwYmU4NDhiNDRmYzE2ZDBlMTk2ODg0YmIwYm1DNFdqVyIsImF0X2hhc2giOiItSFNjUHkxQVpKZHVpb3BzbzFzTTV3Iiwib2lfdGtuX2lkIjoiNWU0ZDVkNDctYWZjYS00MWJkLTkzNmYtYTU5MDRkYTQ4MWNiIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM1MTIyLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MzM5MjJ9.QwUWpG8KK4erZsN0I7eZPKQ7jqcvksvmnPNsHBPtnoC5zUZo5EgKEI1uyUfv246HgNJcWDeem8Dxyv8hf4_7pSA1o980hQHXtJ7m1emt9jEHtG1oMcuoZGcPS_wko60t1RhXGIoaQNC4x7AaKCO1uFHZDjNbdYTCe4EyNPT8ZoesAHiCo2MW2e6DZUmHK5snA1vB2kuAwv9SjRS0O7UVxamY86Twhn5hYRL1wZUUAhBehX5l1z2pacToNA8s-TPOHRZIceXSNzbTx2S_mpDjI2wzo4ArrfBcv19KJz8J4EqOyb1pBZ435xdHCJb2NPHxcsuBUaiqzCu1QjWQb6U0jA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 18:39:22.314 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:39:22.314 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:39:22.319 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:39:22.325 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:22.331 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:22.333 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:39:22.334 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:39:22.334 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:39:22.335 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 18:39:22.349 +03:00 [INF] Executed ViewResult - view Logout executed in 13.2659ms.
2023-10-04 18:39:22.377 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 41.4543ms
2023-10-04 18:39:22.428 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 18:39:22.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiI5MzRmZjQ0ZTcwYmU4NDhiNDRmYzE2ZDBlMTk2ODg0YmIwYm1DNFdqVyIsImF0X2hhc2giOiItSFNjUHkxQVpKZHVpb3BzbzFzTTV3Iiwib2lfdGtuX2lkIjoiNWU0ZDVkNDctYWZjYS00MWJkLTkzNmYtYTU5MDRkYTQ4MWNiIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM1MTIyLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MzM5MjJ9.QwUWpG8KK4erZsN0I7eZPKQ7jqcvksvmnPNsHBPtnoC5zUZo5EgKEI1uyUfv246HgNJcWDeem8Dxyv8hf4_7pSA1o980hQHXtJ7m1emt9jEHtG1oMcuoZGcPS_wko60t1RhXGIoaQNC4x7AaKCO1uFHZDjNbdYTCe4EyNPT8ZoesAHiCo2MW2e6DZUmHK5snA1vB2kuAwv9SjRS0O7UVxamY86Twhn5hYRL1wZUUAhBehX5l1z2pacToNA8s-TPOHRZIceXSNzbTx2S_mpDjI2wzo4ArrfBcv19KJz8J4EqOyb1pBZ435xdHCJb2NPHxcsuBUaiqzCu1QjWQb6U0jA&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 132.2643ms
2023-10-04 18:39:22.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:39:22.848 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 3.9387ms
2023-10-04 18:39:22.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:39:22.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.4390ms
2023-10-04 18:39:23.583 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322
2023-10-04 18:39:23.585 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:39:23.585 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:39:23.587 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 18:39:23.587 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmNz1Fe-6x22hxKxIWW0rQDgjHM7jnaj9yeqKsCGLpw4CVzlk-ieGZX4Q2UI4jsnU6mdUcKIe4EjwX_Z2FSfIVt9rOzIiMKac6CIys9j8hiY8Gm4N9gY0_lAja702qZi2OqzOZmlUcHBBsMEgMCuNY2R-e-Ya22WIsQfKtj26LGtSg"
}.
2023-10-04 18:39:23.591 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 18:39:23.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:23.601 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:23.603 +03:00 [INF] The logout request was successfully validated.
2023-10-04 18:39:23.603 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:39:23.603 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:39:23.605 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 18:39:23.605 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:39:23.606 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 18:39:23.606 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 18:39:23.607 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 18:39:23.608 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 3.9059ms
2023-10-04 18:39:23.609 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 18:39:23.610 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322 - 302 0 - 27.5069ms
2023-10-04 18:39:30.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=c6a3b35f020cce375357878743bfe25a58i1pSivX&state=47e5e32e408359fdca949d7b030f0df003Tg9GbMu&code_challenge=BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw&code_challenge_method=S256 - -
2023-10-04 18:39:30.123 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:39:30.123 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "c6a3b35f020cce375357878743bfe25a58i1pSivX",
  "state": "47e5e32e408359fdca949d7b030f0df003Tg9GbMu",
  "code_challenge": "BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw",
  "code_challenge_method": "S256"
}.
2023-10-04 18:39:30.127 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:39:30.128 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:39:30.129 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:39:30.129 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:39:30.130 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 18:39:30.130 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 18:39:30.130 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 0.6837ms
2023-10-04 18:39:30.131 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:39:30.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=c6a3b35f020cce375357878743bfe25a58i1pSivX&state=47e5e32e408359fdca949d7b030f0df003Tg9GbMu&code_challenge=BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw&code_challenge_method=S256 - - - 302 0 - 11.4839ms
2023-10-04 18:39:30.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3Dc6a3b35f020cce375357878743bfe25a58i1pSivX%26state%3D47e5e32e408359fdca949d7b030f0df003Tg9GbMu%26code_challenge%3DBYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw%26code_challenge_method%3DS256 - -
2023-10-04 18:39:30.138 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 18:39:30.139 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 18:39:30.140 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 18:39:30.141 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:39:30.141 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 18:39:30.142 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 18:39:30.142 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 18:39:30.161 +03:00 [INF] Executed page /Account/Login in 21.6983ms
2023-10-04 18:39:30.161 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 18:39:30.164 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3Dc6a3b35f020cce375357878743bfe25a58i1pSivX%26state%3D47e5e32e408359fdca949d7b030f0df003Tg9GbMu%26code_challenge%3DBYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 27.7382ms
2023-10-04 18:39:30.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 18:39:30.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 18:39:30.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 6.7206ms
2023-10-04 18:39:30.648 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.6514ms
2023-10-04 18:39:33.238 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3Dc6a3b35f020cce375357878743bfe25a58i1pSivX%26state%3D47e5e32e408359fdca949d7b030f0df003Tg9GbMu%26code_challenge%3DBYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 18:39:33.242 +03:00 [INF] CORS policy execution failed.
2023-10-04 18:39:33.243 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 18:39:33.244 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:39:33.244 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:39:33.246 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 18:39:33.247 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 18:39:33.248 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 18:39:33.248 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 18:39:33.249 +03:00 [INF] Executed page /Account/ExternalLogin in 3.5726ms
2023-10-04 18:39:33.249 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:39:33.251 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3Dc6a3b35f020cce375357878743bfe25a58i1pSivX%26state%3D47e5e32e408359fdca949d7b030f0df003Tg9GbMu%26code_challenge%3DBYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 13.9428ms
2023-10-04 18:39:36.976 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmP7ajFZA3pf6454uOuRLG-nRx6qv5RbHSJgVojRwa5kcWkWF32byiB2rE-oIN_EX6bdUeNntCIgvuSSn56cdUrQq1U5HWL2aJZiSA44SG18nS1--MODv_NnJi9BJwqxQ0RN90ok1H8SLAVurdhNYr5LLD1pDYvqtykZ6L8TvrcmqTiAhYDYCobEeng-Hbs3lLL_SV-wH6KqNHrGLkGVcx0mUGdI4slnQpmccAYs_ehFhbkgaBajO9JJJ69IlHmMYTILSeKi4e1tJNlL6tRTy6jj9E133eVGURyD7QFLxWuSvxsT-BCoF0Y9q0_IS4MDFzscYAmVx4ijjIb-UaC8kRhqMeRg12UQcbM9ZHQ9mAny4YrkWZJOI1a0EHo91AUn2FNxkioxZfsjDI2TYoyaJNd81tgh3B4mpsp08uJKEMYplNkjyh_OARWmJcVRJ4D-eXte6DtoRjd78e9CH2f2-gW0B1bE7QD9LBV4YV2KZ1Ie19CSDQLFDXNJ67ar5lVMcps45zyYD7huGVScU461vcI1eEKPXjZeCg0XNQglnDFaBrXh0B3ixdY2OappI5Mfzos1fCPfBuuT_i3cmD0G_l0xABqoweVCClLKqZK-jopeBUaKJ9vxgYIXGU6DKbe7Fv16QmEFyh6nS7PoqusppOgmTDOAUiHFkfRjkKTu7RgNjdYtKo8vurEFmGfDG1WgvcEs_QPBPmcXZJeW_nkdBbAWRcGLHbNp4Gg8OFe3KSPx65n7pnSV21LiVByyGvgulmix66k-RF9UZhFaxuKY26mCLcppJ75oI48qyJ-lj3T0KWd73hM9BVypQQxcFYM4rPI&code=4%2F0AfJohXnKGqXvGQFUEDrW-gcLEh9hisNXsDsSaqqdt6JTv09pF_yIZUkN1_ngg04F5zsTgw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 18:39:37.137 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 18:39:37.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmP7ajFZA3pf6454uOuRLG-nRx6qv5RbHSJgVojRwa5kcWkWF32byiB2rE-oIN_EX6bdUeNntCIgvuSSn56cdUrQq1U5HWL2aJZiSA44SG18nS1--MODv_NnJi9BJwqxQ0RN90ok1H8SLAVurdhNYr5LLD1pDYvqtykZ6L8TvrcmqTiAhYDYCobEeng-Hbs3lLL_SV-wH6KqNHrGLkGVcx0mUGdI4slnQpmccAYs_ehFhbkgaBajO9JJJ69IlHmMYTILSeKi4e1tJNlL6tRTy6jj9E133eVGURyD7QFLxWuSvxsT-BCoF0Y9q0_IS4MDFzscYAmVx4ijjIb-UaC8kRhqMeRg12UQcbM9ZHQ9mAny4YrkWZJOI1a0EHo91AUn2FNxkioxZfsjDI2TYoyaJNd81tgh3B4mpsp08uJKEMYplNkjyh_OARWmJcVRJ4D-eXte6DtoRjd78e9CH2f2-gW0B1bE7QD9LBV4YV2KZ1Ie19CSDQLFDXNJ67ar5lVMcps45zyYD7huGVScU461vcI1eEKPXjZeCg0XNQglnDFaBrXh0B3ixdY2OappI5Mfzos1fCPfBuuT_i3cmD0G_l0xABqoweVCClLKqZK-jopeBUaKJ9vxgYIXGU6DKbe7Fv16QmEFyh6nS7PoqusppOgmTDOAUiHFkfRjkKTu7RgNjdYtKo8vurEFmGfDG1WgvcEs_QPBPmcXZJeW_nkdBbAWRcGLHbNp4Gg8OFe3KSPx65n7pnSV21LiVByyGvgulmix66k-RF9UZhFaxuKY26mCLcppJ75oI48qyJ-lj3T0KWd73hM9BVypQQxcFYM4rPI&code=4%2F0AfJohXnKGqXvGQFUEDrW-gcLEh9hisNXsDsSaqqdt6JTv09pF_yIZUkN1_ngg04F5zsTgw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 161.6786ms
2023-10-04 18:39:37.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3Dc6a3b35f020cce375357878743bfe25a58i1pSivX%26state%3D47e5e32e408359fdca949d7b030f0df003Tg9GbMu%26code_challenge%3DBYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 18:39:37.145 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 18:39:37.145 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 18:39:37.146 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 18:39:37.150 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 18:39:37.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2023-10-04 18:39:37.156 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 18:39:37.157 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:39:37.161 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:39:37.162 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 18:39:37.163 +03:00 [INF] User logged in with Google provider.
2023-10-04 18:39:37.163 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 18:39:37.164 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=c6a3b35f020cce375357878743bfe25a58i1pSivX&state=47e5e32e408359fdca949d7b030f0df003Tg9GbMu&code_challenge=BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw&code_challenge_method=S256.
2023-10-04 18:39:37.164 +03:00 [INF] Executed page /Account/ExternalLogin in 18.7435ms
2023-10-04 18:39:37.165 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 18:39:37.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3Dc6a3b35f020cce375357878743bfe25a58i1pSivX%26state%3D47e5e32e408359fdca949d7b030f0df003Tg9GbMu%26code_challenge%3DBYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw%26code_challenge_method%3DS256&handler=Callback - - - 302 0 - 22.1289ms
2023-10-04 18:39:37.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=c6a3b35f020cce375357878743bfe25a58i1pSivX&state=47e5e32e408359fdca949d7b030f0df003Tg9GbMu&code_challenge=BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw&code_challenge_method=S256 - -
2023-10-04 18:39:37.172 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 18:39:37.173 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "c6a3b35f020cce375357878743bfe25a58i1pSivX",
  "state": "47e5e32e408359fdca949d7b030f0df003Tg9GbMu",
  "code_challenge": "BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw",
  "code_challenge_method": "S256"
}.
2023-10-04 18:39:37.181 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:39:37.182 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 18:39:37.183 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:39:37.183 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:39:37.186 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:39:37.193 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 18:39:37.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 18:39:37.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:39:37.203 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 18:39:37.204 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:39:37.208 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.210 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:39:37.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.224 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:39:37.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:39:37.232 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "47e5e32e408359fdca949d7b030f0df003Tg9GbMu",
  "iss": "https://localhost:44395/"
}.
2023-10-04 18:39:37.233 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 48.7399ms
2023-10-04 18:39:37.234 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 18:39:37.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=c6a3b35f020cce375357878743bfe25a58i1pSivX&state=47e5e32e408359fdca949d7b030f0df003Tg9GbMu&code_challenge=BYJ8dKMIan9eZ7STa5ciqMPPheUOxTBN9FxbLsR_SCw&code_challenge_method=S256 - - - 302 0 - 63.5638ms
2023-10-04 18:39:37.917 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 18:39:37.918 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:39:37.919 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 18:39:37.920 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "d3dbab2de18d9a6ee39acb0029bc186e807587f05bf638b9f61d95cac2e4BixvaIh",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 18:39:37.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:39:37.943 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:39:37.950 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.952 +03:00 [INF] The token request was successfully validated.
2023-10-04 18:39:37.953 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:39:37.953 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:39:37.956 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:39:37.958 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:39:37.960 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 18:39:37.963 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:39:37.964 +03:00 [INF] The token 'ce012432-7a94-4d39-a8ee-180c13b39f68' was successfully marked as redeemed.
2023-10-04 18:39:37.968 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.974 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:39:37.981 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:37.990 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:39:37.999 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:38.001 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:38.015 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:39:38.020 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 18:39:38.021 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 66.9866ms
2023-10-04 18:39:38.022 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:39:38.022 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 105.4768ms
2023-10-04 18:39:38.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 18:39:38.160 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:39:38.161 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 18:39:38.162 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 18:39:38.164 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 18:39:38.167 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 18:39:38.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 10.7422ms
2023-10-04 18:39:38.203 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 18:39:38.203 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:39:38.204 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 0.7936ms
2023-10-04 18:39:38.205 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 18:39:38.205 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:39:38.206 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 18:39:38.207 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 18:39:38.214 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:38.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:39:38.218 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 18:39:38.219 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:39:38.219 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 18:39:38.233 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:39:38.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 18:39:38.237 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 18:39:38.238 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 17.2773ms
2023-10-04 18:39:38.238 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 18:39:38.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 33.8540ms
2023-10-04 18:43:48.636 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 18:43:48.637 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 18:43:48.639 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 18:43:48.641 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 18:43:48.650 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 18:43:48.654 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 18.2402ms
2023-10-04 18:43:48.779 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 18:43:48.779 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 18:43:48.780 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 18:43:48.781 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 18:43:48.782 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 18:43:48.784 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 5.3526ms
2023-10-04 18:43:48.841 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44395/connect/introspect application/x-www-form-urlencoded 2103
2023-10-04 18:43:48.842 +03:00 [INF] The request URI matched a server endpoint: "Introspection".
2023-10-04 18:43:48.845 +03:00 [INF] The introspection request was successfully extracted: {
  "client_id": "rs_dataAIIR",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2023-10-04 18:43:48.853 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:43:48.881 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:43:48.885 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:43:48.888 +03:00 [INF] The introspection request was successfully validated.
2023-10-04 18:43:48.897 +03:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:44395/",
  "username": "lupusvlad@gmail.com",
  "sub": "a855c0b7-b8d4-473d-94c1-3d0083408955",
  "scope": "openid profile roles email dataAIIR offline_access",
  "jti": "9b9039fc-e63d-4adf-8170-0fa78964790a",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "aiirui",
  "iat": 1696433977,
  "nbf": 1696433977,
  "exp": 1696437577,
  "aud": "rs_dataAIIR",
  "name": "lupusvlad@gmail.com",
  "email": "lupusvlad@gmail.com"
}.
2023-10-04 18:43:48.898 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44395/connect/introspect application/x-www-form-urlencoded 2103 - 200 511 application/json;charset=UTF-8 56.9041ms
2023-10-04 18:59:40.079 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 3125
2023-10-04 18:59:40.080 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:59:40.084 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 18:59:40.087 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "refresh_token",
  "client_id": "aiirui",
  "refresh_token": "[redacted]"
}.
2023-10-04 18:59:40.103 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 18:59:40.109 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.116 +03:00 [INF] The token request was successfully validated.
2023-10-04 18:59:40.116 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:59:40.117 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 18:59:40.122 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 18:59:40.124 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 18:59:40.138 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 18:59:40.142 +03:00 [INF] The token 'dd44cf7d-8142-433e-8c97-26c7a121808c' was successfully marked as redeemed.
2023-10-04 18:59:40.145 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.148 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:59:40.160 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:59:40.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 18:59:40.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 18:59:40.180 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 18:59:40.182 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 64.0434ms
2023-10-04 18:59:40.183 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 18:59:40.187 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 3125 - 200 6285 application/json;charset=UTF-8 107.4660ms
2023-10-04 18:59:40.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 18:59:40.199 +03:00 [INF] CORS policy execution successful.
2023-10-04 18:59:40.200 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 18:59:40.200 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 18:59:40.201 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 18:59:40.202 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 18:59:40.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 8.7614ms
2023-10-04 19:11:45.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 19:11:45.519 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:11:45.520 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:11:45.535 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:11:45.537 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:11:45.540 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:11:45.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:11:45.552 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:11:45.557 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:11:45.558 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:11:45.560 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 19:11:45.569 +03:00 [INF] Executed ViewResult - view Logout executed in 9.7839ms.
2023-10-04 19:11:45.570 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 10.2685ms
2023-10-04 19:11:45.570 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:11:45.573 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 86.6529ms
2023-10-04 19:11:45.991 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:11:45.991 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 19:11:45.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 19:11:45.994 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-10-04 19:11:45.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 3.6920ms
2023-10-04 19:11:45.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 19:11:45.995 +03:00 [INF] The file /css/site.css was not modified
2023-10-04 19:11:45.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 19:11:45.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 4.3224ms
2023-10-04 19:11:45.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 19:11:46.002 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-10-04 19:11:46.002 +03:00 [INF] The file /js/site.js was not modified
2023-10-04 19:11:46.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 304 - text/css 8.1008ms
2023-10-04 19:11:46.004 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-10-04 19:11:46.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - text/javascript 12.9745ms
2023-10-04 19:11:46.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 304 - text/javascript 15.8951ms
2023-10-04 19:11:46.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - text/javascript 17.2405ms
2023-10-04 19:11:46.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:11:46.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.4389ms
2023-10-04 19:11:46.068 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2023-10-04 19:11:46.069 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2023-10-04 19:11:46.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 304 - text/plain 0.9600ms
2023-10-04 19:11:46.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2023-10-04 19:11:46.092 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2023-10-04 19:11:46.092 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 304 - text/plain 1.5507ms
2023-10-04 19:11:46.785 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 293
2023-10-04 19:11:46.786 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:11:46.787 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:11:46.787 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:11:46.787 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmOi1BgMA-ylZrPNFq1TqEvMLcdgwMlmQ37Qz0MCbNTL259AIW2uKJoafF4uXdV7ItMUNQD26s9E4plB0jiKYJss1OS26R3f1tlOrqzGTdL4BEWbhdmLOQK214QuT51j52oe305HTbDfEpeB5KD9wyylJE3Itv2FCrqs14S2FhYtbQ"
}.
2023-10-04 19:11:46.790 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:11:46.791 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:11:46.792 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:11:46.792 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:11:46.794 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 19:11:46.794 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:11:46.794 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 19:11:46.795 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 19:11:46.795 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 19:11:46.797 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 3.2829ms
2023-10-04 19:11:46.798 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:11:46.798 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 293 - 302 0 - 13.3749ms
2023-10-04 19:11:50.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=7210355b6622fa1d58d2033ecbd5c9cd30soSMxav&state=ed945922bf7c83d649301a12d9365b63dfTNGnSZm&code_challenge=FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk&code_challenge_method=S256 - -
2023-10-04 19:11:50.642 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:11:50.643 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "7210355b6622fa1d58d2033ecbd5c9cd30soSMxav",
  "state": "ed945922bf7c83d649301a12d9365b63dfTNGnSZm",
  "code_challenge": "FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk",
  "code_challenge_method": "S256"
}.
2023-10-04 19:11:50.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:11:50.647 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:11:50.647 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:11:50.647 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:11:50.648 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 19:11:50.649 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 19:11:50.649 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 0.6037ms
2023-10-04 19:11:50.649 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:11:50.650 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=7210355b6622fa1d58d2033ecbd5c9cd30soSMxav&state=ed945922bf7c83d649301a12d9365b63dfTNGnSZm&code_challenge=FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk&code_challenge_method=S256 - - - 302 0 - 9.6453ms
2023-10-04 19:11:50.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D7210355b6622fa1d58d2033ecbd5c9cd30soSMxav%26state%3Ded945922bf7c83d649301a12d9365b63dfTNGnSZm%26code_challenge%3DFgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk%26code_challenge_method%3DS256 - -
2023-10-04 19:11:50.657 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 19:11:50.657 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 19:11:50.658 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 19:11:50.659 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:11:50.659 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 19:11:50.660 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 19:11:50.661 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 19:11:50.678 +03:00 [INF] Executed page /Account/Login in 20.2474ms
2023-10-04 19:11:50.678 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 19:11:50.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D7210355b6622fa1d58d2033ecbd5c9cd30soSMxav%26state%3Ded945922bf7c83d649301a12d9365b63dfTNGnSZm%26code_challenge%3DFgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 28.7255ms
2023-10-04 19:11:51.144 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:11:51.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:11:51.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 5.3509ms
2023-10-04 19:11:51.174 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.3720ms
2023-10-04 19:11:52.875 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D7210355b6622fa1d58d2033ecbd5c9cd30soSMxav%26state%3Ded945922bf7c83d649301a12d9365b63dfTNGnSZm%26code_challenge%3DFgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 19:11:52.877 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:11:52.877 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:11:52.878 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 19:11:52.879 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 19:11:52.880 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 19:11:52.880 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 19:11:52.881 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 19:11:52.881 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 19:11:52.882 +03:00 [INF] Executed page /Account/ExternalLogin in 2.2928ms
2023-10-04 19:11:52.882 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 19:11:52.883 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D7210355b6622fa1d58d2033ecbd5c9cd30soSMxav%26state%3Ded945922bf7c83d649301a12d9365b63dfTNGnSZm%26code_challenge%3DFgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 7.5020ms
2023-10-04 19:11:55.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmOtr6yklwDxf3IFTjSw-7TPJT3pCyLH7OnfsnsmwCbvB4TvWxCfMxrKOu6aLweDt6aOn78jwm0R0gVNNryTeikMFDdCJu6WHjVpb4A6qqrzAxLF5CPtSKwnHukJ036eHCcEnveeSih_LF7orCtUBDyMqDqrB7gKUP7gSQs9_ehyrnN41t-KEuj8AgGujvSbkf3tY_SGiQ5MovEk1qCx4RGHdriiH5p5lLR5zOHotViAbx73dmRrgkCggla9v0bikwNdEBXV0XIYP6oj6_i1qloTr4WS63raEi37t2oCSvfFnZrSuBXvEhliAaaZGryOj7W9uG5SAdmvuRa64e7O9pHrSlAZYOsRd1GQ_0Z3-8YHl_gA8IJMzXqu9toxwZL2ZQVZ1XgbnMeJx_wcxEXNbqT_1YuLVHtObRhdAR7rovKCkEzYQBGie6rR_VPtXGUtT3fO6f6VjLapgqb0n4JA8b5GWf7H6J_GRsoxJS95-TAM7ptMFpr0w9FbIWZAk-yizUbm6BNshLsdg3BvXwg7r3i5NqaDtALGH9b7ZVHD6Chu-g61NbfvvKlnXZJgviN-b243enrn6mzxu6uYW01Zy7VcvegT-xxC27l7c2A2y1OimnenN5n0hJB1gk1fh7N3FsVWvE4ytBL0c0fW_ZZJEUDA1r1DGpPKX_ZlfCKk2xaAJf-t1RHQBnyjBiWDvyJNJy-Lt32nP59nUdB3caMDETAsCIN8dEFBYINeyYWkqxIpam0T2hNkdf_3_UMNkTF-ZZU1E5IuzB5X_rw4QaiSoVi8M7m6yBWDD-WGGaLeX0YVitq32IEb9B-GWzISlrv6vRc&code=4%2F0AfJohXmWUDtt-b1aT6CO-pGmV0CudWuFzLs9-bz9SM6j3mwIzA7sQ9Q-xAj5LweDNT6zQw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 19:11:56.107 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 19:11:56.107 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmOtr6yklwDxf3IFTjSw-7TPJT3pCyLH7OnfsnsmwCbvB4TvWxCfMxrKOu6aLweDt6aOn78jwm0R0gVNNryTeikMFDdCJu6WHjVpb4A6qqrzAxLF5CPtSKwnHukJ036eHCcEnveeSih_LF7orCtUBDyMqDqrB7gKUP7gSQs9_ehyrnN41t-KEuj8AgGujvSbkf3tY_SGiQ5MovEk1qCx4RGHdriiH5p5lLR5zOHotViAbx73dmRrgkCggla9v0bikwNdEBXV0XIYP6oj6_i1qloTr4WS63raEi37t2oCSvfFnZrSuBXvEhliAaaZGryOj7W9uG5SAdmvuRa64e7O9pHrSlAZYOsRd1GQ_0Z3-8YHl_gA8IJMzXqu9toxwZL2ZQVZ1XgbnMeJx_wcxEXNbqT_1YuLVHtObRhdAR7rovKCkEzYQBGie6rR_VPtXGUtT3fO6f6VjLapgqb0n4JA8b5GWf7H6J_GRsoxJS95-TAM7ptMFpr0w9FbIWZAk-yizUbm6BNshLsdg3BvXwg7r3i5NqaDtALGH9b7ZVHD6Chu-g61NbfvvKlnXZJgviN-b243enrn6mzxu6uYW01Zy7VcvegT-xxC27l7c2A2y1OimnenN5n0hJB1gk1fh7N3FsVWvE4ytBL0c0fW_ZZJEUDA1r1DGpPKX_ZlfCKk2xaAJf-t1RHQBnyjBiWDvyJNJy-Lt32nP59nUdB3caMDETAsCIN8dEFBYINeyYWkqxIpam0T2hNkdf_3_UMNkTF-ZZU1E5IuzB5X_rw4QaiSoVi8M7m6yBWDD-WGGaLeX0YVitq32IEb9B-GWzISlrv6vRc&code=4%2F0AfJohXmWUDtt-b1aT6CO-pGmV0CudWuFzLs9-bz9SM6j3mwIzA7sQ9Q-xAj5LweDNT6zQw&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 294.8156ms
2023-10-04 19:11:56.114 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D7210355b6622fa1d58d2033ecbd5c9cd30soSMxav%26state%3Ded945922bf7c83d649301a12d9365b63dfTNGnSZm%26code_challenge%3DFgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 19:11:56.117 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 19:11:56.117 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 19:11:56.118 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 19:11:56.121 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 19:11:56.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2023-10-04 19:11:56.127 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:11:56.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:11:56.131 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:11:56.132 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 19:11:56.132 +03:00 [INF] User logged in with Google provider.
2023-10-04 19:11:56.133 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 19:11:56.133 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=7210355b6622fa1d58d2033ecbd5c9cd30soSMxav&state=ed945922bf7c83d649301a12d9365b63dfTNGnSZm&code_challenge=FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk&code_challenge_method=S256.
2023-10-04 19:11:56.134 +03:00 [INF] Executed page /Account/ExternalLogin in 16.2397ms
2023-10-04 19:11:56.134 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 19:11:56.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D7210355b6622fa1d58d2033ecbd5c9cd30soSMxav%26state%3Ded945922bf7c83d649301a12d9365b63dfTNGnSZm%26code_challenge%3DFgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk%26code_challenge_method%3DS256&handler=Callback - - - 302 0 - 20.9987ms
2023-10-04 19:11:56.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=7210355b6622fa1d58d2033ecbd5c9cd30soSMxav&state=ed945922bf7c83d649301a12d9365b63dfTNGnSZm&code_challenge=FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk&code_challenge_method=S256 - -
2023-10-04 19:11:56.142 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:11:56.142 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "7210355b6622fa1d58d2033ecbd5c9cd30soSMxav",
  "state": "ed945922bf7c83d649301a12d9365b63dfTNGnSZm",
  "code_challenge": "FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk",
  "code_challenge_method": "S256"
}.
2023-10-04 19:11:56.146 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:11:56.147 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:11:56.148 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:11:56.148 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:11:56.151 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:11:56.156 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 19:11:56.159 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:11:56.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:11:56.164 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 19:11:56.165 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:11:56.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:11:56.176 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.178 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.182 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:11:56.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:11:56.187 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "ed945922bf7c83d649301a12d9365b63dfTNGnSZm",
  "iss": "https://localhost:44395/"
}.
2023-10-04 19:11:56.188 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 38.2807ms
2023-10-04 19:11:56.188 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:11:56.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=7210355b6622fa1d58d2033ecbd5c9cd30soSMxav&state=ed945922bf7c83d649301a12d9365b63dfTNGnSZm&code_challenge=FgtWbhU4Qp7v_-a5V_vNirDlChJDc9x-CSP2_b-NVvk&code_challenge_method=S256 - - - 302 0 - 48.4067ms
2023-10-04 19:11:56.884 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 19:11:56.884 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:11:56.885 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 19:11:56.885 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "dd8d36ac36c4471d1829921405f6f013daf34c2865d736808405fec35571Ko39L78",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:11:56.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:11:56.891 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:11:56.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.900 +03:00 [INF] The token request was successfully validated.
2023-10-04 19:11:56.900 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:11:56.901 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:11:56.905 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:11:56.906 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:11:56.909 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:11:56.915 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:11:56.917 +03:00 [INF] The token '8017a1c1-49da-43d0-b182-81b337a98657' was successfully marked as redeemed.
2023-10-04 19:11:56.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:11:56.931 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.934 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.938 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:11:56.945 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:56.957 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:11:56.973 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 19:11:56.974 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 71.8609ms
2023-10-04 19:11:56.975 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:11:56.976 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 91.8701ms
2023-10-04 19:11:57.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 19:11:57.146 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:11:57.146 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 19:11:57.147 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 19:11:57.147 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 19:11:57.148 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 19:11:57.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 6.2453ms
2023-10-04 19:11:57.196 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 19:11:57.197 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:11:57.197 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 1.1967ms
2023-10-04 19:11:57.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 19:11:57.200 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:11:57.201 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 19:11:57.201 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 19:11:57.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:57.209 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:57.210 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 19:11:57.211 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:11:57.211 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 19:11:57.214 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:11:57.216 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:11:57.216 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 19:11:57.217 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 5.0828ms
2023-10-04 19:11:57.217 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:11:57.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 18.5936ms
2023-10-04 19:11:57.263 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44395/connect/introspect application/x-www-form-urlencoded 2103
2023-10-04 19:11:57.264 +03:00 [INF] The request URI matched a server endpoint: "Introspection".
2023-10-04 19:11:57.265 +03:00 [INF] The introspection request was successfully extracted: {
  "client_id": "rs_dataAIIR",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2023-10-04 19:11:57.269 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:11:57.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:57.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:11:57.288 +03:00 [INF] The introspection request was successfully validated.
2023-10-04 19:11:57.289 +03:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:44395/",
  "username": "lupusvlad@gmail.com",
  "sub": "a855c0b7-b8d4-473d-94c1-3d0083408955",
  "scope": "openid profile roles email dataAIIR offline_access",
  "jti": "4d294f61-f00f-44c4-a574-20faaf06ea4f",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "aiirui",
  "iat": 1696435916,
  "nbf": 1696435916,
  "exp": 1696439516,
  "aud": "rs_dataAIIR",
  "name": "lupusvlad@gmail.com",
  "email": "lupusvlad@gmail.com"
}.
2023-10-04 19:11:57.290 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44395/connect/introspect application/x-www-form-urlencoded 2103 - 200 511 application/json;charset=UTF-8 26.5634ms
2023-10-04 19:12:20.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiI3MjEwMzU1YjY2MjJmYTFkNThkMjAzM2VjYmQ1YzljZDMwc29TTXhhdiIsImF0X2hhc2giOiJTbGFQcnNZTERFOHlYQS1hdFhvWVBRIiwib2lfdGtuX2lkIjoiYjcxODg2NjYtYjQ2OS00NDg1LTliOWEtMmU1NWYxNjllMTY1IiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM3MTE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MzU5MTZ9.naF-Q34CH4FP0zzuti9YF2xCoRbSzeBVKDX2oB8dK0Qc0mrzY9HkytJnnrZ6tsY8CvaegPvYFaP0yvmfQRC3GTpq5ZTZ88z_e6cG9TwYP1prEOi0duWKSaxQJ6w5eCUtq3HkE63Bd4G9nc1BN8MOpoJZVYhIto1DSCBVn0trciA_glP_THuV66roe4f1Cc_3eNUxzXKmCM8FBxUKmv5b8GRs4xn4inUicVz_hnn2I2r_lmYNyQoZ4qpe2m5YZnuiRVA5d81eXsHGSmyugEuXWa8XrmLb5PbP7fxz8k2l5vdXjvV_DrPsdiMNdzNvBqApbtF3mBKz25rOrRElbwxxWQ&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 19:12:20.212 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:12:20.213 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:12:20.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:12:20.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:12:20.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:12:20.223 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:12:20.223 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:12:20.224 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:12:20.225 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 19:12:20.229 +03:00 [INF] Executed ViewResult - view Logout executed in 4.4421ms.
2023-10-04 19:12:20.229 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 4.9076ms
2023-10-04 19:12:20.230 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:12:20.232 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiI3MjEwMzU1YjY2MjJmYTFkNThkMjAzM2VjYmQ1YzljZDMwc29TTXhhdiIsImF0X2hhc2giOiJTbGFQcnNZTERFOHlYQS1hdFhvWVBRIiwib2lfdGtuX2lkIjoiYjcxODg2NjYtYjQ2OS00NDg1LTliOWEtMmU1NWYxNjllMTY1IiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM3MTE2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0MzU5MTZ9.naF-Q34CH4FP0zzuti9YF2xCoRbSzeBVKDX2oB8dK0Qc0mrzY9HkytJnnrZ6tsY8CvaegPvYFaP0yvmfQRC3GTpq5ZTZ88z_e6cG9TwYP1prEOi0duWKSaxQJ6w5eCUtq3HkE63Bd4G9nc1BN8MOpoJZVYhIto1DSCBVn0trciA_glP_THuV66roe4f1Cc_3eNUxzXKmCM8FBxUKmv5b8GRs4xn4inUicVz_hnn2I2r_lmYNyQoZ4qpe2m5YZnuiRVA5d81eXsHGSmyugEuXWa8XrmLb5PbP7fxz8k2l5vdXjvV_DrPsdiMNdzNvBqApbtF3mBKz25rOrRElbwxxWQ&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 21.9021ms
2023-10-04 19:12:20.662 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:12:20.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 2.5607ms
2023-10-04 19:12:20.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:12:20.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.2181ms
2023-10-04 19:12:21.532 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322
2023-10-04 19:12:21.534 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:12:21.534 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:12:21.535 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:12:21.535 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmN0JiUA5qtvLcCdmg-8hV9OGn0O2Fvqu_MfxrmIk29P3AVf7qgGfKXw6c2zA6weMPWmcK5OvWPVaHzRZa6aKo76B012shZcurIZGzu-5MWMeGmCT5yNpuJ86w0754L3dCiT8O-KZRloHCSuQ4TOup3FV7O0yYCD8Wt28D13bbRLdA"
}.
2023-10-04 19:12:21.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:12:21.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:12:21.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:12:21.545 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:12:21.546 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:12:21.546 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:12:21.548 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 19:12:21.548 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:12:21.548 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 19:12:21.549 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 19:12:21.549 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 19:12:21.549 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 2.0837ms
2023-10-04 19:12:21.550 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:12:21.550 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322 - 302 0 - 18.1384ms
2023-10-04 19:14:01.731 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 19:14:01.737 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:14:01.738 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:14:01.740 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:14:01.742 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:14:01.742 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:14:01.742 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:14:01.743 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 19:14:01.753 +03:00 [INF] Executed ViewResult - view Logout executed in 9.3452ms.
2023-10-04 19:14:01.753 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 9.9101ms
2023-10-04 19:14:01.755 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:14:01.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 26.5548ms
2023-10-04 19:14:02.261 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:14:02.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 6.7596ms
2023-10-04 19:14:02.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:14:02.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 97.4655ms
2023-10-04 19:14:03.178 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 250
2023-10-04 19:14:03.179 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:14:03.179 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:14:03.180 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:14:03.180 +03:00 [INF] The logout request was successfully extracted: {
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmN3ncT5mBbsoW5kJOBdmcX79pHELr_2PhC5Ne0iQtRbZu3IjFbdouWYQnwjuDozLd4GIgV-PBmUbVJ1U5b-wXDqPRXl4PphDremPu2Uo-_IYIw4Nky20dFX_eUr8eyOfYs"
}.
2023-10-04 19:14:03.182 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:14:03.183 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:14:03.184 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:14:03.184 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:14:03.185 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 19:14:03.186 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:14:03.187 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 19:14:03.187 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 19:14:03.188 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 19:14:03.188 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 3.1183ms
2023-10-04 19:14:03.189 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:14:03.189 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 250 - 302 0 - 11.1775ms
2023-10-04 19:41:09.662 +03:00 [INF] User profile is available. Using 'C:\Users\lupus\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-04 19:41:09.815 +03:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2023-10-04 19:41:09.816 +03:00 [INF] Quartz Scheduler created
2023-10-04 19:41:09.816 +03:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2023-10-04 19:41:09.817 +03:00 [INF] RAMJobStore initialized.
2023-10-04 19:41:09.818 +03:00 [INF] Quartz Scheduler 3.7.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2023-10-04 19:41:09.818 +03:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2023-10-04 19:41:09.818 +03:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2023-10-04 19:41:09.827 +03:00 [INF] Adding 1 jobs, 1 triggers.
2023-10-04 19:41:09.830 +03:00 [INF] Adding job: OpenIddict/Quartz.NET integration.OpenIddict job
2023-10-04 19:41:11.193 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-04 19:41:11.246 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2023-10-04 19:41:11.546 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:41:11.622 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:41:11.647 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] = @__name_0
2023-10-04 19:41:12.241 +03:00 [INF] Now listening on: https://localhost:44395
2023-10-04 19:41:12.242 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-10-04 19:41:12.243 +03:00 [INF] Hosting environment: Development
2023-10-04 19:41:12.243 +03:00 [INF] Content root path: C:\Developing\alexa-iot-infrared-remote-2.0\WebApp\Backend\AlexaIOTInfraredRemoteAPI\OpeniddictServer
2023-10-04 19:41:12.247 +03:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2023-10-04 19:41:13.063 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/ - -
2023-10-04 19:41:13.264 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 19:41:13.274 +03:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller OpeniddictServer.Controllers.HomeController (OpeniddictServer).
2023-10-04 19:41:25.200 +03:00 [INF] Executing ViewResult, running view Index.
2023-10-04 19:41:26.285 +03:00 [INF] Executed ViewResult - view Index executed in 13002.8991ms.
2023-10-04 19:41:26.289 +03:00 [INF] Executed action OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer) in 13013.9059ms
2023-10-04 19:41:26.291 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.HomeController.Index (OpeniddictServer)'
2023-10-04 19:41:26.317 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/ - - - 200 - text/html;+charset=utf-8 13258.0163ms
2023-10-04 19:41:26.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - -
2023-10-04 19:41:26.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/css/site.css - -
2023-10-04 19:41:26.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - -
2023-10-04 19:41:26.648 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2023-10-04 19:41:26.648 +03:00 [INF] The file /css/site.css was not modified
2023-10-04 19:41:26.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/css/site.css - - - 304 - text/css 8.4781ms
2023-10-04 19:41:26.649 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 8.4782ms
2023-10-04 19:41:26.653 +03:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2023-10-04 19:41:26.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2023-10-04 19:41:26.654 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/jquery/dist/jquery.min.js - - - 304 - text/javascript 13.6795ms
2023-10-04 19:41:26.655 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2023-10-04 19:41:26.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - text/javascript 2.2191ms
2023-10-04 19:41:26.659 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2023-10-04 19:41:26.659 +03:00 [INF] The file /js/site.js was not modified
2023-10-04 19:41:26.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - text/javascript 0.7344ms
2023-10-04 19:41:26.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:41:26.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:41:26.674 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 10.5828ms
2023-10-04 19:41:26.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.0387ms
2023-10-04 19:41:31.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 19:41:31.753 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:41:31.760 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 19:41:31.767 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 19:41:31.769 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 19:41:31.785 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 19:41:31.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 41.2092ms
2023-10-04 19:41:31.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=94612673048cd0d31216092cf2aa498304wbsuh8K&state=b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH&code_challenge=4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc&code_challenge_method=S256 - -
2023-10-04 19:41:31.804 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:41:31.813 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "94612673048cd0d31216092cf2aa498304wbsuh8K",
  "state": "b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH",
  "code_challenge": "4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc",
  "code_challenge_method": "S256"
}.
2023-10-04 19:41:31.837 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:41:31.862 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:41:31.868 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:41:31.872 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:41:31.888 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 19:41:31.892 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 19:41:31.893 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 19.431ms
2023-10-04 19:41:31.893 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:41:31.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=94612673048cd0d31216092cf2aa498304wbsuh8K&state=b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH&code_challenge=4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc&code_challenge_method=S256 - - - 302 0 - 99.1045ms
2023-10-04 19:41:31.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D94612673048cd0d31216092cf2aa498304wbsuh8K%26state%3Db30a3825c1aea0581c19e5a7b453e2545a9gbw7eH%26code_challenge%3D4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc%26code_challenge_method%3DS256 - -
2023-10-04 19:41:31.918 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 19:41:31.938 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 19:41:31.965 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 19:41:31.977 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:41:31.979 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 19:41:31.982 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 19:41:31.983 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 19:41:32.057 +03:00 [INF] Executed page /Account/Login in 118.2204ms
2023-10-04 19:41:32.057 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 19:41:32.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D94612673048cd0d31216092cf2aa498304wbsuh8K%26state%3Db30a3825c1aea0581c19e5a7b453e2545a9gbw7eH%26code_challenge%3D4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 165.3918ms
2023-10-04 19:41:32.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:41:32.445 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:41:32.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 3.6008ms
2023-10-04 19:41:32.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.3567ms
2023-10-04 19:41:33.545 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D94612673048cd0d31216092cf2aa498304wbsuh8K%26state%3Db30a3825c1aea0581c19e5a7b453e2545a9gbw7eH%26code_challenge%3D4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 19:41:33.548 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:41:33.548 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:41:33.555 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 19:41:33.564 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 19:41:33.588 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 19:41:33.590 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 19:41:33.590 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 19:41:33.607 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 19:41:33.608 +03:00 [INF] Executed page /Account/ExternalLogin in 43.1826ms
2023-10-04 19:41:33.609 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 19:41:33.610 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D94612673048cd0d31216092cf2aa498304wbsuh8K%26state%3Db30a3825c1aea0581c19e5a7b453e2545a9gbw7eH%26code_challenge%3D4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 64.7604ms
2023-10-04 19:41:38.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmOZ_-AJh2mvTJLNXOSrk2CGFV7pGmu3UngfkbIrHevqmgR3IjjeJu56cLVJeup9WkHKXT74f6RwJc1SEAQQJHgmIwwNImyuVTlUaEISYuZsf2cim50bVMnSmUII5EHQpcdzJ1s1OZva3LT53PReMa9M63BJeQaSso-ZCRc1HJFvr3lFWAp2OOiPCEDR4ge-K5g3uRMrUXZaf2iLbE0CV2M1sP2zj17mHGo1MSgd_VSuoLHLBarX5txDSQxQ221lwowOil5CU4ILz3Tcn28eQx2L2WxCwhvnmyzKBt_6aHg1uUeB_8GIpVzNIyWOiQRVwxiIRPHXw2LHdi7am3nk0ORYmunApV4ph1D7kUG8SX-HnXKXFc2bXCLdurPqt1vlkBpslAwLcZrfgBYLbi_u1M4eWJjpfLegypwI3Y6RyTRaXPpBCwu3wznGCkOBT_ucym7IB12UMgrFPXMZtIFRDJTI8NrIifjjDE0HX96kbbRZL6KWCnfhTEJvOl4KvLTx0ModFhC_bEFyqidSR4BJ2NkotF_T07AztFxSmizVvX-x51WwAfdhTK5ZyLXDgjzPQPrRgsCE_QDVq07KlNK-fFgEGA-KcPXEBQRNjzYhgNqY-P7S0oM4I4nRCIu9XtBs8StAWV_ST2512qnHEHkqqB8qH5bbuYhuvt5tI78bN16HgMAceQcWIKt1ywPFZLEc2aLTP8ypN_VSkqfq7FIx7CQZ5bCaYAqIBovcI7VYDYv0-k4tZDyTj7STj8lm4tTaErlkpHPU-KjtXcsc5dHqDl4X0bvIM7ggVQVlE-dQnXtzaoEhpiJdwv3eVswdOpSJbiM&code=4%2F0AfJohXmewWe2lWdLglEkNhNn3Tmy7TxHXPntkKhPZ-hYwbPUox-4GW8uxDfESU5o5_xIaQ&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 19:41:38.541 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 19:41:38.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmOZ_-AJh2mvTJLNXOSrk2CGFV7pGmu3UngfkbIrHevqmgR3IjjeJu56cLVJeup9WkHKXT74f6RwJc1SEAQQJHgmIwwNImyuVTlUaEISYuZsf2cim50bVMnSmUII5EHQpcdzJ1s1OZva3LT53PReMa9M63BJeQaSso-ZCRc1HJFvr3lFWAp2OOiPCEDR4ge-K5g3uRMrUXZaf2iLbE0CV2M1sP2zj17mHGo1MSgd_VSuoLHLBarX5txDSQxQ221lwowOil5CU4ILz3Tcn28eQx2L2WxCwhvnmyzKBt_6aHg1uUeB_8GIpVzNIyWOiQRVwxiIRPHXw2LHdi7am3nk0ORYmunApV4ph1D7kUG8SX-HnXKXFc2bXCLdurPqt1vlkBpslAwLcZrfgBYLbi_u1M4eWJjpfLegypwI3Y6RyTRaXPpBCwu3wznGCkOBT_ucym7IB12UMgrFPXMZtIFRDJTI8NrIifjjDE0HX96kbbRZL6KWCnfhTEJvOl4KvLTx0ModFhC_bEFyqidSR4BJ2NkotF_T07AztFxSmizVvX-x51WwAfdhTK5ZyLXDgjzPQPrRgsCE_QDVq07KlNK-fFgEGA-KcPXEBQRNjzYhgNqY-P7S0oM4I4nRCIu9XtBs8StAWV_ST2512qnHEHkqqB8qH5bbuYhuvt5tI78bN16HgMAceQcWIKt1ywPFZLEc2aLTP8ypN_VSkqfq7FIx7CQZ5bCaYAqIBovcI7VYDYv0-k4tZDyTj7STj8lm4tTaErlkpHPU-KjtXcsc5dHqDl4X0bvIM7ggVQVlE-dQnXtzaoEhpiJdwv3eVswdOpSJbiM&code=4%2F0AfJohXmewWe2lWdLglEkNhNn3Tmy7TxHXPntkKhPZ-hYwbPUox-4GW8uxDfESU5o5_xIaQ&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 474.1734ms
2023-10-04 19:41:38.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D94612673048cd0d31216092cf2aa498304wbsuh8K%26state%3Db30a3825c1aea0581c19e5a7b453e2545a9gbw7eH%26code_challenge%3D4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 19:41:38.548 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 19:41:38.549 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 19:41:38.550 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 19:41:38.632 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 19:41:38.678 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2023-10-04 19:41:38.719 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:41:38.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:41:38.767 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:41:38.771 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 19:41:38.773 +03:00 [INF] User logged in with Google provider.
2023-10-04 19:41:38.775 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 19:41:38.777 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=94612673048cd0d31216092cf2aa498304wbsuh8K&state=b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH&code_challenge=4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc&code_challenge_method=S256.
2023-10-04 19:41:38.778 +03:00 [INF] Executed page /Account/ExternalLogin in 228.5259ms
2023-10-04 19:41:38.778 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 19:41:38.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D94612673048cd0d31216092cf2aa498304wbsuh8K%26state%3Db30a3825c1aea0581c19e5a7b453e2545a9gbw7eH%26code_challenge%3D4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc%26code_challenge_method%3DS256&handler=Callback - - - 302 0 - 233.0032ms
2023-10-04 19:41:38.784 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=94612673048cd0d31216092cf2aa498304wbsuh8K&state=b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH&code_challenge=4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc&code_challenge_method=S256 - -
2023-10-04 19:41:38.787 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:41:38.788 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "94612673048cd0d31216092cf2aa498304wbsuh8K",
  "state": "b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH",
  "code_challenge": "4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc",
  "code_challenge_method": "S256"
}.
2023-10-04 19:41:38.796 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:41:38.801 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:41:38.804 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:41:38.805 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:41:38.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:41:38.875 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 19:41:38.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:41:38.923 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:41:38.967 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 19:41:38.976 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:41:39.035 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:39.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:39.214 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:41:39.459 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:39.461 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:39.482 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:41:39.502 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:41:39.518 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH",
  "iss": "https://localhost:44395/"
}.
2023-10-04 19:41:39.528 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 721.6867ms
2023-10-04 19:41:39.528 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:41:39.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=94612673048cd0d31216092cf2aa498304wbsuh8K&state=b30a3825c1aea0581c19e5a7b453e2545a9gbw7eH&code_challenge=4H4_L0A0gy5C1-EJrZuQOgibfOyiXeBsmLKaXCGXdmc&code_challenge_method=S256 - - - 302 0 - 744.6350ms
2023-10-04 19:41:40.149 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 19:41:40.150 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:41:40.150 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 19:41:40.155 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "d3e894a54da3c40036543451d572bd54c3ca5e71192fbffb6c54754b6a92gBLl4uc",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:41:40.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:41:40.199 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:41:40.305 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.314 +03:00 [INF] The token request was successfully validated.
2023-10-04 19:41:40.318 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:41:40.320 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:41:40.332 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:41:40.334 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:41:40.340 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:41:40.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:41:40.354 +03:00 [INF] The token 'b7b135ca-1dc4-4470-aa68-4cfb5ea7d60e' was successfully marked as redeemed.
2023-10-04 19:41:40.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.368 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:41:40.376 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.379 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:41:40.400 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.401 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:41:40.410 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 19:41:40.414 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 92.3779ms
2023-10-04 19:41:40.415 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:41:40.415 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 265.8185ms
2023-10-04 19:41:40.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 19:41:40.437 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:41:40.437 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 19:41:40.442 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 19:41:40.445 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 19:41:40.458 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 19:41:40.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 26.8449ms
2023-10-04 19:41:40.483 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 19:41:40.484 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:41:40.486 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 2.1698ms
2023-10-04 19:41:40.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 19:41:40.488 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:41:40.488 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 19:41:40.491 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 19:41:40.512 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.519 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:41:40.522 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 19:41:40.532 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:41:40.534 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 19:41:40.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:41:40.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:41:40.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 19:41:40.553 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 18.5633ms
2023-10-04 19:41:40.554 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:41:40.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 66.6510ms
2023-10-04 19:42:09.843 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictAuthorizations] AS [o0] ON [o].[AuthorizationId] = [o0].[Id]
WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] NOT IN (N'inactive', N'valid') OR ([o].[Status] IS NULL) OR (([o0].[Id] IS NOT NULL) AND ([o0].[Status] <> N'valid' OR ([o0].[Status] IS NULL))) OR [o].[ExpirationDate] < GETUTCDATE())
ORDER BY [o].[Id]
2023-10-04 19:42:09.899 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__date_0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[ApplicationId], [t].[ConcurrencyToken], [t].[CreationDate], [t].[Properties], [t].[Scopes], [t].[Status], [t].[Subject], [t].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[AuthorizationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[ExpirationDate], [o1].[Payload], [o1].[Properties], [o1].[RedemptionDate], [o1].[ReferenceId], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM (
    SELECT TOP(@__p_1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
    FROM [OpenIddictAuthorizations] AS [o]
    WHERE [o].[CreationDate] < @__date_0 AND ([o].[Status] <> N'valid' OR ([o].[Status] IS NULL) OR ([o].[Type] = N'ad-hoc' AND NOT (EXISTS (
        SELECT 1
        FROM [OpenIddictTokens] AS [o0]
        WHERE [o].[Id] = [o0].[AuthorizationId]))))
    ORDER BY [o].[Id]
) AS [t]
LEFT JOIN [OpenIddictTokens] AS [o1] ON [t].[Id] = [o1].[AuthorizationId]
ORDER BY [t].[Id]
2023-10-04 19:45:26.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=72ea13ad403b2e9033d0f7d7ed3a2adcfdu6mPKCg&state=8a4a59b907cd61b129175a4171a75c4a1675o1efU&code_challenge=58LB3jxFXBf7VsaA7qLlevVkCGmCtHyD-UmnOdalSfc&code_challenge_method=S256 - -
2023-10-04 19:45:26.019 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:45:26.021 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "72ea13ad403b2e9033d0f7d7ed3a2adcfdu6mPKCg",
  "state": "8a4a59b907cd61b129175a4171a75c4a1675o1efU",
  "code_challenge": "58LB3jxFXBf7VsaA7qLlevVkCGmCtHyD-UmnOdalSfc",
  "code_challenge_method": "S256"
}.
2023-10-04 19:45:26.026 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:45:26.032 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:45:26.034 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:45:26.034 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:45:26.038 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:45:26.042 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 19:45:26.046 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:45:26.049 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:45:26.054 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 19:45:26.056 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:45:26.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.079 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:45:26.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.090 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:45:26.095 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:45:26.099 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "8a4a59b907cd61b129175a4171a75c4a1675o1efU",
  "iss": "https://localhost:44395/"
}.
2023-10-04 19:45:26.101 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 65.043ms
2023-10-04 19:45:26.101 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:45:26.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=72ea13ad403b2e9033d0f7d7ed3a2adcfdu6mPKCg&state=8a4a59b907cd61b129175a4171a75c4a1675o1efU&code_challenge=58LB3jxFXBf7VsaA7qLlevVkCGmCtHyD-UmnOdalSfc&code_challenge_method=S256 - - - 302 0 - 88.4080ms
2023-10-04 19:45:26.767 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 19:45:26.767 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:45:26.768 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 19:45:26.770 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "3e2ff61aa01fe5f033d7ea9edd2e57ce80b2f7cebcadb8d47ab2c4050a06ssYJL9z",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:45:26.776 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:45:26.796 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:45:26.806 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.809 +03:00 [INF] The token request was successfully validated.
2023-10-04 19:45:26.809 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:45:26.810 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:45:26.813 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:45:26.814 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:45:26.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:45:26.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:45:26.822 +03:00 [INF] The token '53e8dd50-c030-48e7-bdf5-36b7840ec155' was successfully marked as redeemed.
2023-10-04 19:45:26.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.829 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:45:26.834 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.836 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.839 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:45:26.845 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.847 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:26.849 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:45:26.852 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 19:45:26.854 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 42.7992ms
2023-10-04 19:45:26.854 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:45:26.855 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 88.1755ms
2023-10-04 19:45:26.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 19:45:26.974 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:45:26.974 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 19:45:26.975 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 19:45:26.976 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 19:45:26.978 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 19:45:26.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 8.3788ms
2023-10-04 19:45:27.013 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 19:45:27.013 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:45:27.014 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 0.8521ms
2023-10-04 19:45:27.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 19:45:27.016 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:45:27.016 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 19:45:27.017 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 19:45:27.023 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:27.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:27.028 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 19:45:27.031 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:45:27.031 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 19:45:27.034 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:45:27.036 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:45:27.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 19:45:27.039 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 6.651ms
2023-10-04 19:45:27.039 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:45:27.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 24.5468ms
2023-10-04 19:45:52.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiI3MmVhMTNhZDQwM2IyZTkwMzNkMGY3ZDdlZDNhMmFkY2ZkdTZtUEtDZyIsImF0X2hhc2giOiJEWkl4dTl3NFF1OVBVWFZJR1h1eG9nIiwib2lfdGtuX2lkIjoiY2I4ZWIxYTctNjYxZi00NDE0LWJhZmUtZDJjNDFiZWRlZGIzIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM5MTI2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0Mzc5MjZ9.n3DEvdhCFTxRaDdGexlBn2RDezNl_IKHUuHgJoRs6a1iAwyL_RBbVUhmr2UjxSeLj7g6x7JDz9sS_tjVy6ulvi_d2emotDJSW56omStba5xc3_IFxivB-wruF8efhuw3oGcS1pIUY8K0zDrojDJx_DhHxK2_XVHjV39Lpqs8fDnRf_CyyRit102jEqM3uvfuOiyxph-rtKiEooCx1XyxHXz6G9EMn5NzA2kUbyclfflFvXCED5QbXkpPo_nk8qx48afg39eMkLuAYPCiR39H34R2ZbyigeESqEBNWwigIj669_NmBzDOq9Knfi1xqFememPZoZ3pQ6ZPW15Ko3Rvvg&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - -
2023-10-04 19:45:52.643 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:45:52.645 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:45:52.669 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:45:52.691 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:52.697 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:52.703 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:45:52.707 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:45:52.708 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:45:53.032 +03:00 [INF] Executing ViewResult, running view Logout.
2023-10-04 19:45:53.045 +03:00 [INF] Executed ViewResult - view Logout executed in 335.3024ms.
2023-10-04 19:45:53.045 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer) in 336.1241ms
2023-10-04 19:45:53.047 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Logout (OpeniddictServer)'
2023-10-04 19:45:53.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/logout?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjgyREZDOTAyOTAxNTAzMjFENTc0RTYyRjk2NzNGNzAzNjA4QzMxNzEiLCJ4NXQiOiJndF9KQXBBVkF5SFZkT1l2bG5QM0EyQ01NWEUiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhODU1YzBiNy1iOGQ0LTQ3M2QtOTRjMS0zZDAwODM0MDg5NTUiLCJuYW1lIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsImVtYWlsIjoibHVwdXN2bGFkQGdtYWlsLmNvbSIsIm9pX2F1X2lkIjoiMDE4YTZmOTMtZjM5Zi00YTFjLTljYmEtMDZmMWIzYzUxY2Y1IiwiYXpwIjoiYWlpcnVpIiwibm9uY2UiOiI3MmVhMTNhZDQwM2IyZTkwMzNkMGY3ZDdlZDNhMmFkY2ZkdTZtUEtDZyIsImF0X2hhc2giOiJEWkl4dTl3NFF1OVBVWFZJR1h1eG9nIiwib2lfdGtuX2lkIjoiY2I4ZWIxYTctNjYxZi00NDE0LWJhZmUtZDJjNDFiZWRlZGIzIiwiYXVkIjoiYWlpcnVpIiwiZXhwIjoxNjk2NDM5MTI2LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo0NDM5NS8iLCJpYXQiOjE2OTY0Mzc5MjZ9.n3DEvdhCFTxRaDdGexlBn2RDezNl_IKHUuHgJoRs6a1iAwyL_RBbVUhmr2UjxSeLj7g6x7JDz9sS_tjVy6ulvi_d2emotDJSW56omStba5xc3_IFxivB-wruF8efhuw3oGcS1pIUY8K0zDrojDJx_DhHxK2_XVHjV39Lpqs8fDnRf_CyyRit102jEqM3uvfuOiyxph-rtKiEooCx1XyxHXz6G9EMn5NzA2kUbyclfflFvXCED5QbXkpPo_nk8qx48afg39eMkLuAYPCiR39H34R2ZbyigeESqEBNWwigIj669_NmBzDOq9Knfi1xqFememPZoZ3pQ6ZPW15Ko3Rvvg&post_logout_redirect_uri=https%3A%2F%2Flocalhost%3A4200 - - - 200 - text/html;+charset=utf-8 416.0099ms
2023-10-04 19:45:53.461 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:45:53.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 4.1294ms
2023-10-04 19:45:53.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:45:53.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.0316ms
2023-10-04 19:45:53.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2023-10-04 19:45:53.523 +03:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2023-10-04 19:45:53.523 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 304 - text/plain 0.9544ms
2023-10-04 19:45:53.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2023-10-04 19:45:53.540 +03:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2023-10-04 19:45:53.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 304 - text/plain 1.3060ms
2023-10-04 19:45:54.305 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322
2023-10-04 19:45:54.307 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:45:54.307 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:45:54.309 +03:00 [INF] The request URI matched a server endpoint: "Logout".
2023-10-04 19:45:54.310 +03:00 [INF] The logout request was successfully extracted: {
  "id_token_hint": "[redacted]",
  "post_logout_redirect_uri": "https://localhost:4200",
  "Confirm": "Yes",
  "__RequestVerificationToken": "CfDJ8DWdrV1HKhNOk9mJZdVNGmNDPPhhIcGtRoJsTNwNbHcNsUEQbGlZ1YeqrL7ICw_hKIV27WIlwbt5hmGw1DbEKpcDFQw4oe-d034pUFoOrBFGYQCuP4rBAzKdhxoXtV4SetmS5UUpDl4VRMgpvHUFPoWkzBu5o4YpLBpd45nlU-4ePR5cUQn98HR-2uUUhrmBJw"
}.
2023-10-04 19:45:54.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uri_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE (@__uri_0 LIKE N'') OR CHARINDEX(@__uri_0, [o].[PostLogoutRedirectUris]) > 0
2023-10-04 19:45:54.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:54.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:45:54.328 +03:00 [INF] The logout request was successfully validated.
2023-10-04 19:45:54.331 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:45:54.335 +03:00 [INF] Route matched with {action = "Logout", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogoutPost() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:45:54.338 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2023-10-04 19:45:54.339 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:45:54.339 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2023-10-04 19:45:54.341 +03:00 [INF] Executing SignOutResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2023-10-04 19:45:54.350 +03:00 [INF] The logout response was successfully returned to 'https://localhost:4200': Microsoft.AspNetCore.Http.DefaultHttpResponse.
2023-10-04 19:45:54.351 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer) in 15.4614ms
2023-10-04 19:45:54.352 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.LogoutPost (OpeniddictServer)'
2023-10-04 19:45:54.353 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/logout application/x-www-form-urlencoded 1322 - 302 0 - 47.3048ms
2023-10-04 19:45:57.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=69c674418ed96ef007a7882a5f2321697f7E6RDM9&state=044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc&code_challenge=-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o&code_challenge_method=S256 - -
2023-10-04 19:45:57.207 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:45:57.207 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "69c674418ed96ef007a7882a5f2321697f7E6RDM9",
  "state": "044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc",
  "code_challenge": "-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o",
  "code_challenge_method": "S256"
}.
2023-10-04 19:45:57.212 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:45:57.213 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:45:57.214 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:45:57.214 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:45:57.215 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Identity.Application"]).
2023-10-04 19:45:57.215 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2023-10-04 19:45:57.216 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 1.2015ms
2023-10-04 19:45:57.217 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:45:57.217 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=69c674418ed96ef007a7882a5f2321697f7E6RDM9&state=044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc&code_challenge=-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o&code_challenge_method=S256 - - - 302 0 - 11.9846ms
2023-10-04 19:45:57.222 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D69c674418ed96ef007a7882a5f2321697f7E6RDM9%26state%3D044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc%26code_challenge%3D-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o%26code_challenge_method%3DS256 - -
2023-10-04 19:45:57.224 +03:00 [INF] Executing endpoint '/Account/Login'
2023-10-04 19:45:57.224 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2023-10-04 19:45:57.225 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2023-10-04 19:45:57.225 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:45:57.225 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2023-10-04 19:45:57.226 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2023-10-04 19:45:57.226 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2023-10-04 19:45:57.232 +03:00 [INF] Executed page /Account/Login in 8.0441ms
2023-10-04 19:45:57.233 +03:00 [INF] Executed endpoint '/Account/Login'
2023-10-04 19:45:57.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D69c674418ed96ef007a7882a5f2321697f7E6RDM9%26state%3D044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc%26code_challenge%3D-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o%26code_challenge_method%3DS256 - - - 200 - text/html;+charset=utf-8 13.9716ms
2023-10-04 19:45:57.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - -
2023-10-04 19:45:57.735 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/_vs/browserLink - -
2023-10-04 19:45:57.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_framework/aspnetcore-browser-refresh.js - - - 200 12364 application/javascript;+charset=utf-8 6.0193ms
2023-10-04 19:45:57.764 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.2545ms
2023-10-04 19:45:58.804 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D69c674418ed96ef007a7882a5f2321697f7E6RDM9%26state%3D044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc%26code_challenge%3D-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198
2023-10-04 19:45:58.806 +03:00 [INF] CORS policy execution failed.
2023-10-04 19:45:58.806 +03:00 [INF] Request origin https://localhost:44395 does not have permission to access the resource.
2023-10-04 19:45:58.807 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 19:45:58.807 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 19:45:58.810 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnPost - ModelState is "Invalid"
2023-10-04 19:45:58.811 +03:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.ChallengeResult.
2023-10-04 19:45:58.812 +03:00 [INF] Executing ChallengeResult with authentication schemes (["Google"]).
2023-10-04 19:45:58.813 +03:00 [INF] AuthenticationScheme: Google was challenged.
2023-10-04 19:45:58.814 +03:00 [INF] Executed page /Account/ExternalLogin in 6.2584ms
2023-10-04 19:45:58.814 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 19:45:58.815 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D69c674418ed96ef007a7882a5f2321697f7E6RDM9%26state%3D044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc%26code_challenge%3D-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o%26code_challenge_method%3DS256 application/x-www-form-urlencoded 198 - 302 0 - 10.9453ms
2023-10-04 19:46:06.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmN_ZPImyWIbBBQ5yDkyVD4cXw3UQuZUkit1Hu3yoPco3iz8fBQxVAZNYjQdWtHaqK5Ttg8BskWIPA1n6BHQmnWHQP0xK5mDYwpZGk011SUfhtqshw8k4DCpE4LS1ZF3vC-NiU0JS5EoLyNmHEpSz6hVer12wcmLaQ6FQUXOn9kPPOSBUM_6NAIBnvaD2oSAEXBCPtGQoB2ULZhDRXZMlWpe__HnSIAiOFM_h9CyQb1SM6453taamZSROMzWKxhXm2XBZ1qBczPwLJbEqYalOx1Ufc3Ptce_Mb2FI2Sw9MQp7V3iJtDm5y2UMRUaVoUoMEKH7-vAcnycnxK0xba1Uyd2SbxTiGfcY4JoPjMue1WriroWHifr-gjv-Cpt4je07nGR_3wC0_LFETTVMuPKlkIaLLB3uH1yqgYmmH9D_U2VCEnN01BH3df5chYNK1o5DSq0O_BO7KJv6LjPXOUUtNN41xD1MfixOTG-_q2HgZaKOabEMQVivfF1RXLSHEG7b9u_nZtaLgu63_YfLWCfkvtb5LKcFLalxjmW-3K0Gwlyirhv7bdIiPux7T9XEy4yHw1g34SMkemGRPVb1JeJH_l1Hx2eqQdStUIdiKOaBlZJY_TyAS7KlYKGwnxN_jcjm-2dSBIqKwaoJg9Lu0vzB1c30v8zVkXWRyQRPPBcUEyzWtU1GfzyfjM70y6ihlM9No6YG4Egw0oSvaYrllXXRRPsBcwoTS_8qbj6ymJ5zx7Tzg6LkErfHZz_BriJG3qA6-H_pp-GsTFoovsX2z6QXVkJzAeC3XACDL8bryj1k1vqvY_m-4uVDah64s5YT1ZDHH0&code=4%2F0AfJohXlv-y_54_GC5oVMXqulVRVLA2lujjrwZnDxRA2d2idj8Btq79d_5jsegiap7TdJPA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - -
2023-10-04 19:46:07.265 +03:00 [INF] AuthenticationScheme: Identity.External signed in.
2023-10-04 19:46:07.265 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/signin-google?state=CfDJ8DWdrV1HKhNOk9mJZdVNGmN_ZPImyWIbBBQ5yDkyVD4cXw3UQuZUkit1Hu3yoPco3iz8fBQxVAZNYjQdWtHaqK5Ttg8BskWIPA1n6BHQmnWHQP0xK5mDYwpZGk011SUfhtqshw8k4DCpE4LS1ZF3vC-NiU0JS5EoLyNmHEpSz6hVer12wcmLaQ6FQUXOn9kPPOSBUM_6NAIBnvaD2oSAEXBCPtGQoB2ULZhDRXZMlWpe__HnSIAiOFM_h9CyQb1SM6453taamZSROMzWKxhXm2XBZ1qBczPwLJbEqYalOx1Ufc3Ptce_Mb2FI2Sw9MQp7V3iJtDm5y2UMRUaVoUoMEKH7-vAcnycnxK0xba1Uyd2SbxTiGfcY4JoPjMue1WriroWHifr-gjv-Cpt4je07nGR_3wC0_LFETTVMuPKlkIaLLB3uH1yqgYmmH9D_U2VCEnN01BH3df5chYNK1o5DSq0O_BO7KJv6LjPXOUUtNN41xD1MfixOTG-_q2HgZaKOabEMQVivfF1RXLSHEG7b9u_nZtaLgu63_YfLWCfkvtb5LKcFLalxjmW-3K0Gwlyirhv7bdIiPux7T9XEy4yHw1g34SMkemGRPVb1JeJH_l1Hx2eqQdStUIdiKOaBlZJY_TyAS7KlYKGwnxN_jcjm-2dSBIqKwaoJg9Lu0vzB1c30v8zVkXWRyQRPPBcUEyzWtU1GfzyfjM70y6ihlM9No6YG4Egw0oSvaYrllXXRRPsBcwoTS_8qbj6ymJ5zx7Tzg6LkErfHZz_BriJG3qA6-H_pp-GsTFoovsX2z6QXVkJzAeC3XACDL8bryj1k1vqvY_m-4uVDah64s5YT1ZDHH0&code=4%2F0AfJohXlv-y_54_GC5oVMXqulVRVLA2lujjrwZnDxRA2d2idj8Btq79d_5jsegiap7TdJPA&scope=email+profile+openid+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email&authuser=0&prompt=consent - - - 302 0 - 311.9900ms
2023-10-04 19:46:07.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D69c674418ed96ef007a7882a5f2321697f7E6RDM9%26state%3D044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc%26code_challenge%3D-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o%26code_challenge_method%3DS256&handler=Callback - -
2023-10-04 19:46:07.272 +03:00 [INF] Executing endpoint '/Account/ExternalLogin'
2023-10-04 19:46:07.273 +03:00 [INF] Route matched with {page = "/Account/ExternalLogin", area = "Identity", action = "", controller = ""}. Executing page /Account/ExternalLogin
2023-10-04 19:46:07.273 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ExternalLoginModel.OnGetCallbackAsync - ModelState is "Valid"
2023-10-04 19:46:07.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2023-10-04 19:46:07.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2023-10-04 19:46:07.281 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2023-10-04 19:46:07.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:46:07.285 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:46:07.286 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2023-10-04 19:46:07.286 +03:00 [INF] User logged in with Google provider.
2023-10-04 19:46:07.287 +03:00 [INF] Executed handler method OnGetCallbackAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2023-10-04 19:46:07.287 +03:00 [INF] Executing LocalRedirectResult, redirecting to /connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=69c674418ed96ef007a7882a5f2321697f7E6RDM9&state=044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc&code_challenge=-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o&code_challenge_method=S256.
2023-10-04 19:46:07.288 +03:00 [INF] Executed page /Account/ExternalLogin in 14.7368ms
2023-10-04 19:46:07.288 +03:00 [INF] Executed endpoint '/Account/ExternalLogin'
2023-10-04 19:46:07.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/Identity/Account/ExternalLogin?returnUrl=%2Fconnect%2Fauthorize%3Fclient_id%3Daiirui%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520roles%2520email%2520dataAIIR%2520offline_access%26nonce%3D69c674418ed96ef007a7882a5f2321697f7E6RDM9%26state%3D044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc%26code_challenge%3D-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o%26code_challenge_method%3DS256&handler=Callback - - - 302 0 - 17.9994ms
2023-10-04 19:46:07.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=69c674418ed96ef007a7882a5f2321697f7E6RDM9&state=044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc&code_challenge=-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o&code_challenge_method=S256 - -
2023-10-04 19:46:07.294 +03:00 [INF] The request URI matched a server endpoint: "Authorization".
2023-10-04 19:46:07.294 +03:00 [INF] The authorization request was successfully extracted: {
  "client_id": "aiirui",
  "redirect_uri": "https://localhost:4200",
  "response_type": "code",
  "scope": "openid profile roles email dataAIIR offline_access",
  "nonce": "69c674418ed96ef007a7882a5f2321697f7E6RDM9",
  "state": "044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc",
  "code_challenge": "-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o",
  "code_challenge_method": "S256"
}.
2023-10-04 19:46:07.297 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:46:07.298 +03:00 [INF] The authorization request was successfully validated.
2023-10-04 19:46:07.298 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:46:07.299 +03:00 [INF] Route matched with {action = "Authorize", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authorize() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:46:07.302 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:46:07.307 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__subject_0='?' (Size = 400), @__status_1='?' (Size = 50), @__type_2='?' (Size = 50), @__key_3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
INNER JOIN [OpenIddictApplications] AS [o1] ON [o0].[Id] = [o1].[Id]
WHERE [o].[Subject] = @__subject_0 AND [o].[Status] = @__status_1 AND [o].[Type] = @__type_2 AND [o1].[Id] = @__key_3
2023-10-04 19:46:07.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2023-10-04 19:46:07.314 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:46:07.317 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[ConcurrencyToken], [o].[Description], [o].[Descriptions], [o].[DisplayName], [o].[DisplayNames], [o].[Name], [o].[Properties], [o].[Resources]
FROM [OpenIddictScopes] AS [o]
WHERE [o].[Name] IN (N'openid', N'profile', N'roles', N'email', N'dataAIIR', N'offline_access')
2023-10-04 19:46:07.318 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:46:07.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:07.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:07.326 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:46:07.332 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:07.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:07.338 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:46:07.344 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:46:07.346 +03:00 [INF] The authorization response was successfully returned to 'https://localhost:4200' using the query response mode: {
  "code": "[redacted]",
  "state": "044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc",
  "iss": "https://localhost:44395/"
}.
2023-10-04 19:46:07.347 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer) in 47.4246ms
2023-10-04 19:46:07.347 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Authorize (OpeniddictServer)'
2023-10-04 19:46:07.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/authorize?client_id=aiirui&redirect_uri=https%3A%2F%2Flocalhost%3A4200&response_type=code&scope=openid%20profile%20roles%20email%20dataAIIR%20offline_access&nonce=69c674418ed96ef007a7882a5f2321697f7E6RDM9&state=044aceba3cfa337cddc61ae1b41c2be702FTJ6ddc&code_challenge=-R6imZtaASzXOW8i8GU7LUSDJcqVK1FDXLnPl-NNa6o&code_challenge_method=S256 - - - 302 0 - 55.1225ms
2023-10-04 19:46:08.004 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221
2023-10-04 19:46:08.005 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:46:08.005 +03:00 [INF] The request URI matched a server endpoint: "Token".
2023-10-04 19:46:08.007 +03:00 [INF] The token request was successfully extracted: {
  "grant_type": "authorization_code",
  "client_id": "aiirui",
  "code_verifier": "c0781119c311542b196274301ccfd9d8caaaf21d2332e8a11005050896d5KC1KN3D",
  "code": "[redacted]",
  "redirect_uri": "https://localhost:4200"
}.
2023-10-04 19:46:08.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:46:08.021 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:46:08.039 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.041 +03:00 [INF] The token request was successfully validated.
2023-10-04 19:46:08.043 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:46:08.043 +03:00 [INF] Route matched with {action = "Exchange", controller = "Authorization", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Exchange() on controller OpeniddictServer.Controllers.AuthorizationController (OpeniddictServer).
2023-10-04 19:46:08.049 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:46:08.050 +03:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2023-10-04 19:46:08.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[ReferenceId] = @__identifier_0
2023-10-04 19:46:08.057 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 50), @p13='?' (Size = 50), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (Size = 50), @p10='?' (Size = 400), @p11='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [OpenIddictTokens] SET [ApplicationId] = @p0, [AuthorizationId] = @p1, [ConcurrencyToken] = @p2, [CreationDate] = @p3, [ExpirationDate] = @p4, [Payload] = @p5, [Properties] = @p6, [RedemptionDate] = @p7, [ReferenceId] = @p8, [Status] = @p9, [Subject] = @p10, [Type] = @p11
OUTPUT 1
WHERE [Id] = @p12 AND [ConcurrencyToken] = @p13;
2023-10-04 19:46:08.061 +03:00 [INF] The token '374676e2-c711-44db-88ab-cbe363f5156a' was successfully marked as redeemed.
2023-10-04 19:46:08.065 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.069 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:46:08.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.077 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.080 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:46:08.085 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.087 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type]
FROM [OpenIddictAuthorizations] AS [o]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.090 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2023-10-04 19:46:08.097 +03:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "openid profile roles email dataAIIR offline_access",
  "id_token": "[redacted]",
  "refresh_token": "[redacted]"
}.
2023-10-04 19:46:08.098 +03:00 [INF] Executed action OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer) in 53.2783ms
2023-10-04 19:46:08.099 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.AuthorizationController.Exchange (OpeniddictServer)'
2023-10-04 19:46:08.100 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44395/connect/token application/x-www-form-urlencoded 221 - 200 6285 application/json;charset=UTF-8 95.5041ms
2023-10-04 19:46:08.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 19:46:08.236 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:46:08.237 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 19:46:08.238 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 19:46:08.239 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 19:46:08.243 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 19:46:08.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 12.8950ms
2023-10-04 19:46:08.299 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - -
2023-10-04 19:46:08.299 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:46:08.300 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:44395/connect/userinfo - - - 204 - - 0.9598ms
2023-10-04 19:46:08.302 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44395/connect/userinfo - -
2023-10-04 19:46:08.302 +03:00 [INF] CORS policy execution successful.
2023-10-04 19:46:08.303 +03:00 [INF] The request URI matched a server endpoint: "Userinfo".
2023-10-04 19:46:08.304 +03:00 [INF] The userinfo request was successfully extracted: {
  "access_token": "[redacted]"
}.
2023-10-04 19:46:08.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:08.313 +03:00 [INF] The userinfo request was successfully validated.
2023-10-04 19:46:08.315 +03:00 [INF] Executing endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:46:08.315 +03:00 [INF] Route matched with {action = "Userinfo", controller = "Userinfo", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Userinfo() on controller OpeniddictServer.Controllers.UserinfoController (OpeniddictServer).
2023-10-04 19:46:08.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2023-10-04 19:46:08.319 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-10-04 19:46:08.320 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-04 19:46:08.320 +03:00 [INF] Executed action OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer) in 4.5382ms
2023-10-04 19:46:08.320 +03:00 [INF] Executed endpoint 'OpeniddictServer.Controllers.UserinfoController.Userinfo (OpeniddictServer)'
2023-10-04 19:46:08.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44395/connect/userinfo - - - 200 - application/json;+charset=utf-8 18.8790ms
2023-10-04 19:46:24.787 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44395/.well-known/openid-configuration - -
2023-10-04 19:46:24.788 +03:00 [INF] The request URI matched a server endpoint: "Configuration".
2023-10-04 19:46:24.789 +03:00 [INF] The configuration request was successfully extracted: {}.
2023-10-04 19:46:24.789 +03:00 [INF] The configuration request was successfully validated.
2023-10-04 19:46:24.792 +03:00 [INF] The response was successfully returned as a JSON document: {
  "issuer": "https://localhost:44395/",
  "authorization_endpoint": "https://localhost:44395/connect/authorize",
  "token_endpoint": "https://localhost:44395/connect/token",
  "introspection_endpoint": "https://localhost:44395/connect/introspect",
  "end_session_endpoint": "https://localhost:44395/connect/logout",
  "userinfo_endpoint": "https://localhost:44395/connect/userinfo",
  "jwks_uri": "https://localhost:44395/.well-known/jwks",
  "grant_types_supported": [
    "authorization_code",
    "implicit",
    "client_credentials",
    "refresh_token"
  ],
  "response_types_supported": [
    "code",
    "code id_token",
    "code id_token token",
    "code token"
  ],
  "response_modes_supported": [
    "form_post",
    "fragment",
    "query"
  ],
  "scopes_supported": [
    "openid",
    "offline_access",
    "email",
    "profile",
    "roles",
    "dataAIIR"
  ],
  "claims_supported": [
    "aud",
    "exp",
    "iat",
    "iss",
    "sub"
  ],
  "id_token_signing_alg_values_supported": [
    "RS256"
  ],
  "code_challenge_methods_supported": [
    "plain",
    "S256"
  ],
  "subject_types_supported": [
    "public"
  ],
  "token_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "introspection_endpoint_auth_methods_supported": [
    "client_secret_basic",
    "client_secret_post"
  ],
  "claims_parameter_supported": false,
  "request_parameter_supported": false,
  "request_uri_parameter_supported": false,
  "authorization_response_iss_parameter_supported": true
}.
2023-10-04 19:46:24.800 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44395/.well-known/openid-configuration - - - 200 1600 application/json;charset=UTF-8 12.5828ms
2023-10-04 19:46:24.977 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:44395/.well-known/jwks - -
2023-10-04 19:46:24.977 +03:00 [INF] The request URI matched a server endpoint: "Cryptography".
2023-10-04 19:46:24.978 +03:00 [INF] The cryptography request was successfully extracted: {}.
2023-10-04 19:46:24.978 +03:00 [INF] The cryptography request was successfully validated.
2023-10-04 19:46:24.979 +03:00 [INF] The response was successfully returned as a JSON document: {
  "keys": [
    {
      "kid": "82DFC90290150321D574E62F9673F703608C3171",
      "use": "sig",
      "kty": "RSA",
      "alg": "RS256",
      "e": "AQAB",
      "n": "1hXzO9ih6UsEtN0MfY0K98kChsmMxjBaUToedS-wjWc9TvY_ejJKr0Rcw0QAb0JQM7w8nkgrnsbkqLaqTod-raQwRodVN5OEhVvOGuiWGPXVufBYhEZWkkO5K9B0tC9dMFyHVPc-8i7EWDwCnLsU2-xnaMf7X8zlTbe_6pdlWQi6gqZVBFbIe_BeHbOTSOROOhRYpIg2OZXoeRELpOd7t3iTuDFtg6vD8iFaQqK0FPOOm2gNsGC_eN75e1MrD6Uu3hKDcC6JC2d7VJJ0gwh289clvJ73RUB6OVlOvYgDcDbVNXjUwdVz7myBc5CC4o5-e1X9Lsen52gpGIvFsEZG9Q",
      "x5t": "gt_JApAVAyHVdOYvlnP3A2CMMXE",
      "x5c": [
        "MIIC9DCCAdygAwIBAgIIS3egrSw4vwAwDQYJKoZIhvcNAQELBQAwMDEuMCwGA1UEAxMlT3BlbklkZGljdCBTZXJ2ZXIgU2lnbmluZyBDZXJ0aWZpY2F0ZTAeFw0yMzA3MzAyMDU2NDNaFw0yNTA3MzAyMDU2NDNaMDAxLjAsBgNVBAMTJU9wZW5JZGRpY3QgU2VydmVyIFNpZ25pbmcgQ2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDWFfM72KHpSwS03Qx9jQr3yQKGyYzGMFpROh51L7CNZz1O9j96MkqvRFzDRABvQlAzvDyeSCuexuSotqpOh36tpDBGh1U3k4SFW84a6JYY9dW58FiERlaSQ7kr0HS0L10wXIdU9z7yLsRYPAKcuxTb7Gdox/tfzOVNt7/ql2VZCLqCplUEVsh78F4ds5NI5E46FFikiDY5leh5EQuk53u3eJO4MW2Dq8PyIVpCorQU846baA2wYL943vl7UysPpS7eEoNwLokLZ3tUknSDCHbz1yW8nvdFQHo5WU69iANwNtU1eNTB1XPubIFzkILijn57Vf0ux6fnaCkYi8WwRkb1AgMBAAGjEjAQMA4GA1UdDwEB/wQEAwIHgDANBgkqhkiG9w0BAQsFAAOCAQEAM5NJI+jQzaHexVfjinP4r4wKkJIxUzsWbhD5iwND1k2uvC99TWGSsDDtjnx970CMfQ8JgRuRgm0z8FzdSizspTKmbvMphzglDSZMYl0gcgLg9lXmv8PUWGsdSi+95ikn4IFfjE9pktUTaDajZhor9gqYYJCwqjlahbLLHXCyYyu3M/VIsDCN6tDCvRHamdOUxTD49anbEdyeUDB7Fn2aJ+alGJRzSPLnPf08I07woPD8sqDn2KvDHbpd/7GpKYARnnjjFiNsOU4Qn6/gvbo6ylnLHkN+FSjpRP+urD4TTlMs1Pfx6b600T5By4tO+DgDJm7kJJzzR24WtonCCpK6lw=="
      ]
    }
  ]
}.
2023-10-04 19:46:24.982 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:44395/.well-known/jwks - - - 200 1635 application/json;charset=UTF-8 5.5328ms
2023-10-04 19:46:25.058 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:44395/connect/introspect application/x-www-form-urlencoded 2103
2023-10-04 19:46:25.059 +03:00 [INF] The request URI matched a server endpoint: "Introspection".
2023-10-04 19:46:25.063 +03:00 [INF] The introspection request was successfully extracted: {
  "client_id": "rs_dataAIIR",
  "client_secret": "[redacted]",
  "token": "[redacted]",
  "token_type_hint": "access_token"
}.
2023-10-04 19:46:25.071 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__identifier_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ClientId], [o].[ClientSecret], [o].[ConcurrencyToken], [o].[ConsentType], [o].[DisplayName], [o].[DisplayNames], [o].[Permissions], [o].[PostLogoutRedirectUris], [o].[Properties], [o].[RedirectUris], [o].[Requirements], [o].[Type]
FROM [OpenIddictApplications] AS [o]
WHERE [o].[ClientId] = @__identifier_0
2023-10-04 19:46:25.105 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[AuthorizationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[ExpirationDate], [o].[Payload], [o].[Properties], [o].[RedemptionDate], [o].[ReferenceId], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type], [o1].[Id], [o1].[ApplicationId], [o1].[ConcurrencyToken], [o1].[CreationDate], [o1].[Properties], [o1].[Scopes], [o1].[Status], [o1].[Subject], [o1].[Type]
FROM [OpenIddictTokens] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
LEFT JOIN [OpenIddictAuthorizations] AS [o1] ON [o].[AuthorizationId] = [o1].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:25.109 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ApplicationId], [o].[ConcurrencyToken], [o].[CreationDate], [o].[Properties], [o].[Scopes], [o].[Status], [o].[Subject], [o].[Type], [o0].[Id], [o0].[ClientId], [o0].[ClientSecret], [o0].[ConcurrencyToken], [o0].[ConsentType], [o0].[DisplayName], [o0].[DisplayNames], [o0].[Permissions], [o0].[PostLogoutRedirectUris], [o0].[Properties], [o0].[RedirectUris], [o0].[Requirements], [o0].[Type]
FROM [OpenIddictAuthorizations] AS [o]
LEFT JOIN [OpenIddictApplications] AS [o0] ON [o].[ApplicationId] = [o0].[Id]
WHERE [o].[Id] = @__key_0
2023-10-04 19:46:25.114 +03:00 [INF] The introspection request was successfully validated.
2023-10-04 19:46:25.130 +03:00 [INF] The response was successfully returned as a JSON document: {
  "active": true,
  "iss": "https://localhost:44395/",
  "username": "lupusvlad@gmail.com",
  "sub": "a855c0b7-b8d4-473d-94c1-3d0083408955",
  "scope": "openid profile roles email dataAIIR offline_access",
  "jti": "b78864a7-1dea-4281-b9fc-2572f8a2fb9f",
  "token_type": "Bearer",
  "token_usage": "access_token",
  "client_id": "aiirui",
  "iat": 1696437968,
  "nbf": 1696437968,
  "exp": 1696441568,
  "aud": "rs_dataAIIR",
  "name": "lupusvlad@gmail.com",
  "email": "lupusvlad@gmail.com"
}.
2023-10-04 19:46:25.132 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:44395/connect/introspect application/x-www-form-urlencoded 2103 - 200 511 application/json;charset=UTF-8 74.0638ms
